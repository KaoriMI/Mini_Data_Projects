!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=527)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(20),s=n(21),a=(r=n(19))&&r.__esModule?r:{default:r},o=o||{};o.GA=i.GA,o.waitForLoad=s.waitForLoad,o.getBaseUrl=function(){const e=new URL(window.location);let t=e.protocol;return t+="//",t+=e.hostname,-1===["80","443"].indexOf(e.port)&&(t+=":"+e.port),t+="/",t},o.throttle=function(e,t,n){t=t||window;let r=!1;t.addEventListener(e,(function(){r||(r=!0,window.requestAnimationFrame((function(){n(),r=!1})))}))},o.formatAsLocalisedCurrency=function(e,t,n,r=0,i="yes"){const s={minimumFractionDigits:r,maximumFractionDigits:r},a={decimals:r};return"yes"===i&&(s.currency=t,s.style="currency",a.prefix=n+" "),parseInt(e,10),parseFloat(e).toLocaleString("nu",s)},o.breakpoints=function(e,t){const n=[];let r=!1;function i(e){let t="";switch(e){case"ExtraLarge":t="all and (min-width: 1025px)";break;case"Large":t="all and (min-width: 769px) and (max-width: 1024px)";break;case"Medium":t="all and (min-width: 481px) and (max-width: 768px)";break;case"Small":t="all and (max-width: 480px)";break;default:t="none"}return window.matchMedia(t).matches}return"[object Array]"===Object.prototype.toString.call(e)?e.forEach((function(e){n.push(i(e))})):n.push(i(e)),n.some(function(e){if(e)return t&&t.apply(this),r=!0,!0}.bind(this)),r},o.scrollListener=function(e,t,n=400){let r,i=!1;(r=function(){e.getBoundingClientRect().top+(document.body.getBoundingClientRect().top-n)>0||t&&(t(),i=!0,document.removeEventListener("scroll",r))})(),r(),i||document.addEventListener("scroll",r)},o.lazyLoadScript=function(e,t,n,r=400){o.scrollListener(t,()=>{let t=e.length;if(0===e.length)return;let r=0;for(let i=0;i<t;i++)Loot.MicroserviceInjector.injectScriptToBody(e[i]).then((function(){r++,r===t&&n&&n()}))},r)},o.addFunctionToPipelineTracker=function(e){void 0!==window.DataTracker?e(window.DataTracker):document.addEventListener("DataTrackerReady",(function(){e(window.DataTracker)}))},o.getSnowplowProperty=function(e,t){t&&"function"==typeof t&&(snowplow?snowplow((function(){const n=this[Object.keys(this)[0]];if(!n||!n[e])return t();const r=n[e].call(this);return t(r)})):t())},o.getUserId=function(e){o.getSnowplowProperty("getDomainUserId",e)},o.getCurrentContentHash=function(){var e=new URL(window.location).hash.replace("#","").split(":");return 2===e.length&&"content"===e[0]?e[1]:""},o.debounce=function(e,t,n=this){let r=null,i=null;const s=()=>e.apply(n,i);return function(){i=arguments,clearTimeout(r),r=setTimeout(s,t)}},Element.prototype.formatAsNumber=function(){const e=this.dataset.decimals||0,t=parseFloat(this.innerHTML);return isNaN(t)||(this.innerHTML=t.toLocaleString("nu",{style:"decimal",minimumFractionDigits:e,maximumFractionDigits:e})),this},Element.prototype.formatAsDateTime=function(){const e=this.getAttribute("datetime").trim().toString();if(""===e)return this;const t=this.dataset.format;if(!t)return this;const n=t.trim().toString();if(!n||""===n)return this;const r=(0,a.default)(e).format(n);if("Invalid date"===r)return this;this.innerText=r;const i=this.getAttribute("data-format-title");return i&&this.setAttribute("title",(0,a.default)(e).format(i)),this},Function.prototype.clone=function(){const e=this,t=function(){return e.apply(this,arguments)};for(const e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t},document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll("[data-OverText]");e.length>0&&Array.from(e).forEach((function(e){const t=e.dataset.overtext;new OverText(e,{textOverride:t})}))}(),document.addEventListener("redirect",(function(e){window.location!==e&&(window.location=e)})),o.GA.parseTrackers(null)})),window.Shared=o;var c=o;t.default=c},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocationSwitcher=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r};class s{constructor(e,t){this.tracking=t,this.dataStorage=e,this.locationSwitcher=document.getElementById("LocationSwitcher"),this.locationSwitcher&&(this.locationSelector=this.locationSwitcher.querySelector(".js-locationSelect"),this.locationSelector&&(this.setUserCountry(),this.setVisualState(),this._trackUserNationality(),this.updateLocationOnChange(),this._addEventListeners()))}updateLocationOnChange(){this.locationSelector.addEventListener("change",e=>{const t=e.target.selectedIndex;-1!==t&&(this.userCountry=this.getCountryInfo(this.locationSelector.children[t].value),this.storeUserCountry(),this.setVisualState(),this.broadcastLocation(),this._trackLocationChange())})}setVisualState(){this._setLocationNameSpan(),this._setLocationSwitcherSelectedOption()}_trackLocationChange(){const e=Array.from(this.locationSelector.children),t=this.userCountry.id.toString();let n="";e.some(e=>e.value===t&&(n=e.dataset.fullTitle.trim(),!0));const r={category:"Search",action:"Nationality Changed",label:n};i.default.GA.fireTracker(r),this._trackUserNationality()}_trackUserNationality(){i.default.waitForLoad([{name:"userLocation",event:"user_location_ready"}],()=>{window.userLocation.setCountry(this.userCountry.id,"LocationSwitcher")})}_addEventListeners(){document.addEventListener("ask_user_location",()=>{this.answerUserLocation()}),document.addEventListener("ask_user_location_for_tuition",()=>{this.answerTuitionLocation()}),document.addEventListener("ask_user_location_for_search_controller",()=>{this.answerSearchControllerLocation()})}broadcastLocation(){document.dispatchEvent(new CustomEvent("user_location_changed",{detail:{userCountryID:this.userCountry.id}}))}answerUserLocation(){document.dispatchEvent(new CustomEvent("answer_user_location",{detail:{userCountryID:this.userCountry.id}}))}answerTuitionLocation(){document.dispatchEvent(new CustomEvent("answer_user_location_for_tuition",{detail:{userCountryID:this.userCountry.id}}))}answerSearchControllerLocation(){document.dispatchEvent(new CustomEvent("answer_user_location_for_search_controller",{detail:{userCountryID:this.userCountry.id}}))}_setLocationNameSpan(){const e=Array.from(document.getElementsByClassName("js-locationText")),t=Array.from(this.locationSelector.children),n=this.locationSelector.value;if(parseInt(n)<1)return void e.forEach(e=>{"header"===e.dataset.header?e.innerText="Int.":e.innerText="International"});const r=this.userCountry.id.toString();t.some(t=>t.value===r&&(e.forEach(e=>{"header"===e.dataset.header&&"XX"===t.dataset.iso?e.innerText="Int.":e.innerText=t.dataset.iso}),!0))}_setLocationSwitcherSelectedOption(){const e=Array.from(this.locationSelector.children),t=this.userCountry.id.toString();e.some((e,n)=>e.value===t&&(this.locationSelector.selectedIndex=n,!0))}static getCountriesInRegion(e){return s.regionsWithCountries[e]||[]}static isCountryInRegion(e,t){let n=!1;return s.getCountriesInRegion(t).indexOf(e)>-1&&(n=!0),n}static isUserInOrgRegion(e,t,n){return s.isCountryInRegion(t,n)&&s.isCountryInRegion(e,n)}isUserInCountry(e){return this.userCountry.id===e}setUserCountry(){if(this.userCountry=this.getStoredCountry(),!this.userCountry){const e=this.getTrackedCountry().toString();this.userCountry=this.getCountryInfo(e),this.storeUserCountry()}}storeUserCountry(){this.dataStorage.store("user_country",this.userCountry,2592e3)}getStoredCountry(){let e=this.dataStorage.retrieve("user_country");return null!==e&&"object"==typeof e&&e.id?e:""}getTrackedCountry(){return this.tracking.getCountryId()}getCountryInfo(e){const t=Array.from(this.locationSelector.children);let n;for(let r=0;r<t.length;r++)if(t[r].value===e){if(!t[r].dataset.iso)break;n=t[r].dataset.iso.toLowerCase();break}return{id:parseInt(e),iso:n||null}}static get eeaRegionID(){return 38}static get usaCountryID(){return 82}static get australiaCountryID(){return 202}static get canadaCountryID(){return 56}static get ukCountryID(){return 30}static get eeaCountries(){return[3,4,2,5,7,6,8,9,10,11,25,12,13,14,15,16,47,17,34,35,1,19,20,21,33,41,31,24,26,27,30]}static get regionsWithCountries(){return{[s.eeaRegionID]:s.eeaCountries}}}t.LocationSwitcher=s},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortalType=void 0;const r={mastersportal:"Master studies",bachelorsportal:"Bachelor studies",distancelearningportal:"Online studies",preparationcoursesportal:"Preparation courses",shortcoursesportal:"Short courses",phdportal:"PhD studies"},i={getCurrentPortal(){const e=document.location.hostname.split(".");return e[e.length-2]},getPortalLabel(){const e=i.getCurrentPortal();return e?r[e]:"studies"}};t.PortalType=i},12:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,((r=n(0))&&r.__esModule?r:{default:r}).default.live=!0;var i=void 0===i||null==i?{}:i;i.Search=void 0===i.Search||null==i.Search?{}:i.Search,i.Search.apiUrl="https://search.prtl.co/2018-07-23/",i.Search.proxyUrl="https://1cna6fszvk.execute-api.eu-west-1.amazonaws.com/prod",i.autoCompleteURL="https://autocomplete.prtl.co/",i.studyRecommenderURL="https://rvwgxls8h1.execute-api.eu-west-1.amazonaws.com/prd/";var s=i;t.default=s},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchQueue=void 0;const r=function(){let e=[],t=!1;return{addRequest:function(n,r,i,s,a){return new Promise((function(o,c){e.push({maxAttempts:i||1,delay:s||1e3,fixed:!1===a,request:r,url:n,retry:0,resolve:o,reject:c}),function n(){if(t)return;let r=e.shift();if(r){t=!0;try{fetch(r.url,r.request).then(r.resolve).catch(r.reject)}catch(e){r.reject(e)}finally{t=!1,n()}}}()}))}}}();t.FetchQueue=r},134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r={createMark(e){window&&window.performance&&window.performance.mark&&performance.mark(e+"_mark")},send(e){if(!(window&&window.performance&&window.performance.measure&&window.performance.getEntriesByName))return;try{performance.measure(e.action+"_measure",e.start+"_mark",e.end+"_mark")}catch(e){return}const t=performance.getEntriesByName(e.action+"_measure")[0],n=Math.round(t.duration);this.trackTimingEvent({category:e.category,action:e.action,label:n})},trackTimingEvent(e){Shared.addFunctionToPipelineTracker(t=>{t.trackStructEvent(e.category,e.action,e.label)})}};window.Performance=r;var i=r;t.default=i},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkNamespace=t.prepareNamespace=void 0;var r=window.StudyPortals||{};t.prepareNamespace=function(e){let t,n=e.split("."),i=r;"StudyPortals"===n[0]&&(n=n.slice(1)),t=n.length;for(let e=0;e<t;e++)void 0===i[n[e]]&&(i[n[e]]={}),i=i[n[e]]},t.checkNamespace=function(e){let t,n=e.split("."),i=r;"StudyPortals"===n[0]&&(n=n.slice(1)),t=n.length;let s=!0;for(let e=0;e<t;e++)void 0===i[n[e]]&&(s=!1,e=t),i=i[n[e]];return s}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCompleteControllerGeneric=t.AutoCompleteControllerSearch=t.AutoCompleteController=void 0;var r=o(n(0)),i=n(6),s=o(n(2)),a=n(18);function o(e){return e&&e.__esModule?e:{default:e}}class c{constructor(e=null){this.controlKeys={down:40,up:38,enter:13,esc:27,tab:9,ctrl:17},this.searchRequest=e,this.autoCompleteForms={};const t=Array.from(document.querySelectorAll("input.AutoCompleteInput, input.js-autoCompleteInput"));if(0===t.length)return;Array.from(t).forEach(e=>{this._initAutoCompleteInstance(e)});const n=[];Object.values(this.autoCompleteForms).forEach(e=>{n.push(e[0].submitButton)}),Array.from(n).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=e.target.closest("form").id;this._handleButtonClick(t)})})}submit(e,t=!1){const n=document.getElementById(e),r=n.querySelector('button[type="submit"]'),i=n.querySelector(".js-autoCompleteInput");let s=n.dataset.defaultParameters;r.classList.add("AnimationPulseLoop");const a={};s&&(s=JSON.parse(s),i&&i.value&&(delete s.discipline_ids,delete s.degrees)),i&&i.dataset.country&&(a.country_ids=[i.dataset.country]);const o=Object.assign(a,defaultSearchParameters,s),u={};if(this._fireSubmittedTracking(e),!this.autoCompleteForms[e])return;let l=this.autoCompleteForms[e].length;document.addEventListener("auto_complete_suggested",()=>{l--,0===l&&this._reroute(o,u,r)}),Object.values(this.autoCompleteForms[e]).forEach(n=>{n.updateSelectedFilter(()=>{c._updateParameters(n,o,u),this._sendTracking(n,t,e),document.dispatchEvent(new Event("auto_complete_suggested"))})})}hide(){this._autoCompletes.forEach(e=>{e.classList.add("Hidden")})}_fireSubmittedTracking(e){const t="Submit form: "+e,n={category:"Search",action:t};r.default.GA.fireTracker(n),r.default.addFunctionToPipelineTracker(e=>{e.trackStructEvent("Search",t)})}get _autoCompletes(){const e=[];return Object.values(this.autoCompleteForms).forEach(t=>{t.forEach(t=>{e.push(t)})}),e}_initAutoCompleteInstance(e){const t=e.closest("form").id;if(!t)return;this.autoCompleteForms[t]||(this.autoCompleteForms[t]=[]);const n=this.autoCompleteForms[t].length,r=new i.AutoComplete(e,n,this.searchRequest);this.autoCompleteForms[t].push(r),this._attachEventListenersTo(r),r.hide()}_reroute(){}static _updateParameters(e,t,n){const r=e.inputValues,i=e.suggestType;if(n[i]||(n[i]=r.keyword||r.title),""===r.keyword)null!==r.id&&(t[r.name]=[r.id]);else{const e=r.keyword;void 0===t.keywords?t.keywords=e:t.keywords+=" "+e}}_attachEventListenersTo(e){const t=e._inputField;t.addEventListener("keyup",t=>{this._handleKeyUp(e,t)}),t.addEventListener("focus",()=>{r.default.breakpoints(["Large","ExtraLarge"],()=>{e.suggest()})}),t.addEventListener("click",()=>{r.default.breakpoints(["Small","Medium"],()=>{e.suggest()})}),t.addEventListener("keydown",t=>{this._handleKeyDown(e,t)}),e.onSelectionChange(()=>{this._handleSelectionChange(e)}),t.addEventListener("blur",()=>{e.hide()}),document.addEventListener("render_complete",()=>{e.submitButton.classList.remove("AnimationPulseLoop")}),r.default.throttle("resize",window,()=>{e.setAutoCompleteWidth()}),window.addEventListener("orientationchange",()=>{e.setAutoCompleteWidth()})}_handleKeyUp(e,t){let n=!1;for(const e in this.controlKeys)if(this.controlKeys.hasOwnProperty(e)&&this.controlKeys[e]===t.keyCode){n=!0;break}!1===n&&e.suggest()}_handleKeyDown(e,t){t.keyCode===this.controlKeys.esc?e.hide():t.keyCode===this.controlKeys.enter?(e.interaction="enter",this._handleSelectionChange(e),t.preventDefault()):t.keyCode===this.controlKeys.tab?this._handleTabPress(e,t):t.keyCode===this.controlKeys.up?(e.moveSelectedUp(),t.preventDefault()):t.keyCode===this.controlKeys.down&&(e.moveSelectedDown(),t.preventDefault())}_handleTabPress(e,t){const n=e.formID;if(e.hide(),this.autoCompleteForms[n]&&!0!==t.shift&&e.index!==this.autoCompleteForms[n].length-1){const t=e.index+1;this.autoCompleteForms[n][t].suggest()}}_handleButtonClick(e){this.autoCompleteForms[e]&&(this.autoCompleteForms[e].forEach(e=>{e.hide()}),this.submit(e))}_handleSelectionChange(e){const t=e.formID,n=document.getElementById(t),i=n.dataset.noAutoSubmit&&"true"===n.dataset.noAutoSubmit;e.setSelectedValue(),e.copySelectionText(),e.hide();const s=!!e.selectedValue;if(e.index!==this.autoCompleteForms[t].length-1){const n=e.index+1,r=window.requestAnimationFrame(()=>{this.autoCompleteForms[t][n].focus(),window.cancelAnimationFrame(r)})}if(e.index===this.autoCompleteForms[t].length-1)return e.blur(),void this.submit(t,s);i||r.default.breakpoints(["Small","Medium"],()=>{e.blur(),this.submit(t,s)})}_sendTracking(e,t,n){let i=null,s=e._inputField.value,a=null,o=null;t&&(i=e.interaction,s=e.originalValue,a=e.matchedValue,o=e.selectedPosition),r.default.addFunctionToPipelineTracker(e=>{e.trackStructEvent("search",n+"_box_used")}),r.default.addFunctionToPipelineTracker(e=>{e.trackStructEvent("search",i,s,a,o)})}}t.AutoCompleteController=c,t.AutoCompleteControllerSearch=class extends c{constructor(e,t){super(t),this.dataStorage=e,document.addEventListener("url_change",e=>{this.searchRequest=e.detail.searchRequest})}_reroute(e,t){this.dataStorage.store("search_terms",t),""!==s.default.alias(this.searchRequest.getQParameters())&&(this._setRequestParameters(e),a.UrlHandler.updateSearchUrl(this.searchRequest))}_setRequestParameters(e){this.searchRequest.setParameter("tuition_fee_currency",null),this.searchRequest.setParameter("organisation_ids",null),this.searchRequest.setParameter("discipline_ids",null),this.searchRequest.setParameter("country_ids",null),this.searchRequest.setParameter("area_ids",null),this.searchRequest.setParameter("region_ids",null),this.searchRequest.setParameter("start",0),Object.keys(e).forEach(t=>{this.searchRequest.setParameter(t,e[t])})}},t.AutoCompleteControllerGeneric=class extends c{constructor(e){super(),this.dataStorage=e}_reroute(e,t){this.dataStorage.store("search_terms",t);const n={q:{}};Object.keys(e).forEach(t=>{n.q[t]=e[t]});const r=a.UrlHandler.constructSearchUrl(n);a.UrlHandler.setUrl(r)}}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PowerPopup=void 0,t.PowerPopup=class{constructor(e){this.name=e.name,this.content=e.content,this.padding="boolean"!=typeof e.padding||e.padding,void 0===e.closeMethod||"hide"!==e.closeMethod.trim()?this.closeMethod="destroy":this.closeMethod="hide",this.closeMethod=e.closeMethod||"destroy",this.closable="boolean"!=typeof e.closable||e.closable,this.closeButton=null,this.closable&&(this.isHtmlElement(e.closeButton)?this.closeButton=e.closeButton:"string"==typeof e.closeButton&&(this.closeButton=document.querySelector(e.closeButton))),this.popup=null,this.onOpen=e.onOpen||null,this.onClose=e.onClose||null,this.position="string"==typeof e.position?e.position.toLowerCase():"center",this.size="string"==typeof e.size?e.size.toLowerCase():"normal",this.name&&(this.checkIfDuplicate()||this.content&&(this.onOpen&&"function"!=typeof this.onOpen&&(this.onOpen=null),this.onClose&&"function"!=typeof this.onClose&&(this.onClose=null),this.build()))}build(){const e=this,t=document.createElement("div");switch(t.className="PowerPopupWrapper Hidden",t.setAttribute("data-popup-name",e.name),e.position){case"top":t.classList.add("Top");break;case"bottom":t.classList.add("Bottom")}e.popup=t;const n=document.createElement("div");n.classList.add("PowerPopup"),!1===e.padding&&n.classList.add("NoPadding"),"large"===e.size&&n.classList.add("Large"),!0===e.closable&&(e.isHtmlElement(e.closeButton)||(e.closeButton=this.buildCloseButton()),n.appendChild(e.closeButton));const r=document.createElement("div");r.classList.add("PowerPopupContent"),!0===e.closable&&(e.popup.addEventListener("click",(function(t){t.target.hasAttribute("data-popup-name")&&e.close()})),e.closeButton.addEventListener("click",(function(){e.close()}))),document.body.appendChild(t),t.appendChild(n),n.appendChild(r),r.appendChild(e.content)}close(){const e=this;if("destroy"===e.closeMethod){e.onClose&&e.onClose();const t=e.popup.parentNode;if(!t)return;t.removeChild(e.popup)}else e.onClose&&e.onClose(),e.popup.classList.add("Hidden")}open(){this.popup.classList.remove("Hidden"),this.onOpen&&this.onOpen()}checkIfDuplicate(){const e=this,t=document.getElementsByClassName("PowerPopupWrapper");for(let n=0;n<t.length;n++)if(t[n].getAttribute("data-popup-name")===e.name)return!0;return!1}isHtmlElement(e){return e&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType}buildCloseButton(){const e=document.createElement("button");e.className="CloseButton Textlink",e.setAttribute("aria-label","Close pop-up");const t=document.createElement("i");return t.className="lnr-cross CloseIcon",e.appendChild(t),e}}},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TuitionSettingsController=void 0;var r=n(1),i=n(7),s=n(9),a=n(8);t.TuitionSettingsController=class{constructor(e,t,n){this.locationSwitcher=new r.LocationSwitcher(e,t),this.currencySwitcher=void 0===n?new i.CurrencySwitcher(e):new i.CurrencySwitcherSearch(e,n),this.tuitionSwitchable=new s.TuitionSwitchable,this.tuitionSettings=new a.TuitionSettings}}},178:function(e,t,n){var r;e.exports=r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},s=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var a=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=a<<24-(r+s)%4*8}else for(s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var o=i(4294967296*(n||e.random()));n=987654071*o(),r.push(4294967296*o()|0)}return new a.init(r,t)}}),o=r.enc={},c=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,o=i/(4*s),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=s)this._doProcessBlock(r,l);var d=r.splice(0,c);n.sigBytes-=u}return new a.init(d,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math)},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};class s{static constructSearchUrl(e,t=!1){const n=window.location.href.split("?"),r=n.length>1?n[1].split("#")[0]:"",i=e.q;return e.q=s.constructShortQString(i,t),`${s.getCurrentSearchUrl()}#${s._joinSearchParameters(e)}${r?"?"+r:""}`}static constructShortQString(e,t){if(!e)return null;let n="";return t?(s._encodeParameter(e,"kw"),n=s.createQParamsString(e)):(s._encodeParameter(e,"keywords"),n=i.default.alias(e)),n}static createQParamsString(e){return Object.keys(e).filter(t=>e[t]).map(t=>`${t}-${e[t]}`).join("|")}static _joinSearchParameters(e){return Object.keys(e).filter(t=>e[t]).map(t=>`${t}=${e[t]}`).join("&")}static _encodeParameter(e,t){e[t]&&(e[t]=encodeURIComponent(e[t]))}static getCurrentSearchUrl(){let e=window.location.origin;const t=Loot.DataStorage.retrieve("UserPortalPreference");return t&&s.isArticlePage()&&(e=t),s.isSearchPage()?e+window.location.pathname:e+"/search/"}static getPageHash(){return window.location.hash}static replaceQueryParametersInURL(){const e=new URL(window.location);let t=new URLSearchParams(e.search);if(t&&t.has("q")){let n="#q="+t.get("q");t.delete("q"),window.history.replaceState({},document.title,e.pathname+n+"?"+t)}}static parseSearchHash(e){return""===e||"#"!==e.charAt(0)?{searchParameters:new URLSearchParams,hash:""}:{searchParameters:s._getSearchParams(e.slice(1)),hash:e}}static setUrl(e){window.location=e}static updateSearchUrl(e){const t=e.getSearchParameters(),n=s.constructSearchUrl(t);s.setUrl(n)}static _getSearchParams(e){return e=(e=e.replace(/%25/gi,"").replace(/&(?![a-z]*[=])/gi,"")).split("?")[0],new URLSearchParams(e)}static omitURLSpecialCharacters(e){return e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")}static isSearchPage(){const e=window.location.origin+"/search/";return window.location.href.indexOf(e)>-1}static isArticlePage(){const e=window.location.origin+"/articles/";return window.location.href.indexOf(e)>-1}static isStudyPage(){let e=!1;for(let t of["/studies/"])if(window.location.href.indexOf(t)>-1){e=!0;break}return e}static constructGASearchParameters(e){const t=i.default.alias(e.parameters);return["q","token","path","hh","include_order"].forEach(t=>{delete e.extra[t]}),e.extra.length=10,"#q="+t+"&"+Object.keys(e.extra).map(t=>t+"="+e.extra[t]).join("&")}}t.UrlHandler=s,window.UrlHandler=s},19:function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="day",s="week",a="month",o="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.add(r,a),s=n-i<0,o=t.add(r+(s?-1:1),a);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:a,y:c,w:s,d:i,D:u,h:r,m:n,s:t,ms:e,Q:o}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",m={};m[f]=g;var _=function(e){return e instanceof b},y=function(e,t,n){var r;if(!e)return f;if("string"==typeof e)m[e]&&(r=e),t&&(m[e]=t,r=e);else{var i=e.name;m[i]=e,r=i}return!n&&r&&(f=r),r||!n&&f},v=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new b(n)},w=p;w.l=y,w.i=_,w.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var b=function(){function h(e){this.$L=this.$L||y(e.locale,null,!0),this.parse(e)}var p=h.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(e,t){var n=v(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return v(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<v(e)},p.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,o){var l=this,d=!!w.u(o)||o,h=w.p(e),p=function(e,t){var n=w.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?n:n.endOf(i)},g=function(e,t){return w.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},f=this.$W,m=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return d?p(1,0):p(31,11);case a:return d?p(1,m):p(0,m+1);case s:var v=this.$locale().weekStart||0,b=(f<v?f+7:f)-v;return p(d?_-b:_+(6-b),m);case i:case u:return g(y+"Hours",0);case r:return g(y+"Minutes",1);case n:return g(y+"Seconds",2);case t:return g(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(s,o){var l,d=w.p(s),h="set"+(this.$u?"UTC":""),p=(l={},l[i]=h+"Date",l[u]=h+"Date",l[a]=h+"Month",l[c]=h+"FullYear",l[r]=h+"Hours",l[n]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[d],g=d===i?this.$D+(o-this.$W):o;if(d===a||d===c){var f=this.clone().set(u,1);f.$d[p](g),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](g);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[w.p(e)]()},p.add=function(e,o){var u,l=this;e=Number(e);var d=w.p(o),h=function(t){var n=v(l);return w.w(n.date(n.date()+Math.round(t*e)),l)};if(d===a)return this.set(a,this.$M+e);if(d===c)return this.set(c,this.$y+e);if(d===i)return h(1);if(d===s)return h(7);var p=(u={},u[n]=6e4,u[r]=36e5,u[t]=1e3,u)[d]||1,g=this.$d.getTime()+e*p;return w.w(g,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),s=this.$H,a=this.$m,o=this.$M,c=i.weekdays,u=i.months,l=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].substr(0,s)},h=function(e){return w.s(s%12||12,e,"0")},p=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:l(i.monthsShort,o,u,3),MMMM:l(u,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,c,2),ddd:l(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:w.s(s,2,"0"),h:h(1),hh:h(2),a:p(s,a,!0),A:p(s,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(d,(function(e,t){return t||g[e]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(e,u,l){var d,h=w.p(u),p=v(e),g=6e4*(p.utcOffset()-this.utcOffset()),f=this-p,m=w.m(this,p);return m=(d={},d[c]=m/12,d[a]=m,d[o]=m/3,d[s]=(f-g)/6048e5,d[i]=(f-g)/864e5,d[r]=f/36e5,d[n]=f/6e4,d[t]=f/1e3,d)[h]||f,l?m:w.a(m)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return m[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=y(e,t,!0);return r&&(n.$L=r),n},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),S=b.prototype;return v.prototype=S,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",i],["$M",a],["$y",c],["$D",u]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),v.extend=function(e,t){return e(t,b,v),v},v.locale=y,v.isDayjs=_,v.unix=function(e){return v(1e3*e)},v.en=m[f],v.Ls=m,v}()},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={aliases:{activated:"act",active:"ac",affiliate:"fflt",allow:"al",application_partners:"ap",approval:"apl",area_ids:"ae",area_presence:"aep",article_ids:"ar",assistant_ids:"ai",auditor_ids:"au",banner_boxes:"bb",banner_ids:"ba",body_ids:"bo",brand:"br",cae_max:"caex",cae_min:"caem",campaign_ids:"cam",capped_budget:"cb",category_ids:"ca",chain_types:"ct",child_ids:"chi",city_ids:"ti",classifications:"cl",cms_user_id:"cmi",comparison_ids:"cmp",consortium_ids:"mi",continents:"con",country_ids:"ci",country_status:"cs",course_ids:"co",cpm_max:"cx",cpm_min:"cm",date_max:"dax",date_min:"dam",date_type:"dat",degrees:"dg",density:"de",discipline_ids:"di",distance:"dt",double_reports:"dr",duration_max:"dx",duration_min:"dm",duration_ranges:"dur",education_levels:"elv",educational_forms:"ef",email:"ma",email_like:"mal",entity:"et",entity_ids:"eid",entity_types:"ety",entropy:"en",entry_level:"el",entry_level_max:"elx",entry_level_min:"elm",exact_name:"xna",exact_query:"equ",executive:"xu",experience_ids:"ex",external:"ext",facebook_id:"fb",favourite_ids:"fvr",favourited:"fav",fce_max:"fcex",fce_min:"fcem",filename:"fn",from_area_ids:"fae",from_city_ids:"fci",from_country_ids:"fco",from_organisation_ids:"for",from_region_ids:"frg",from_study_ids:"fst",from_user_ids:"fus",full_name:"fna",full_name_email:"fne",genders:"ge",godmode:"god",group_ids:"gi",group_size_max:"gsx",group_size_min:"gsm",handler_ids:"hi",has_adwords:"had",has_banner:"hb",has_english_courses:"hec",has_experience:"hex",has_inquiry_campaign:"hic",has_language_courses:"hlco",has_language_courses_types:"hlcot",has_language_studies:"hlst",has_lead_campaign:"hlc",has_organisations:"hor",has_reviews:"hre",has_venues:"hve",hash:"ha",highlight:"hl",ids:"id",ielts_max:"ieltsx",ielts_min:"ieltsm",in_ranking:"rk",intensity_max:"ix",intensity_min:"im",invert:"iv",ip:"ip",is_student:"is",iso_code:"iso",joint:"jt",keywords:"kw",kinds:"ki",language:"lan",language_course_ids:"lco",language_ids:"ln",latitude:"la",lead_campaign_ids:"ldc",legacy:"lgc",legacy_ids:"leg",level:"lev",levels:"lv",locale:"lc",locales:"lcs",locations:"loc",longitude:"lo",mailing_type_ids:"mty",manager_ids:"mid",member_student_ids:"msi",methods:"mh",mobility_types:"mt",name:"na",no_countries:"nci",no_disciplines:"ndi",no_duration_max:"ndx",no_duration_min:"ndm",no_from_countries:"nfc",no_levels:"nlv",no_options:"nop",no_purposes:"npp",no_users:"nus",not_country_ids:"!ci",not_degrees:"!dg",not_send:"ns",now:"now",occurrence_ids:"oc",options:"op",organisation_ids:"oi",over_budget:"ob",page:"pa",parent_ids:"pi",partial_reports:"plr",parttime_variants:"pv",person_ids:"ps",personal_updates:"per",population_max:"pox",population_min:"pom",portal_types:"pt",premiums:"pm",preparation_course_ids:"pco",presence:"pr",product_ids:"pro",project_types:"prj",public:"pb",purpose:"pu",purposes:"pp",qualified:"qa",query:"qu",ranking_ids:"ra",ratings:"rts",rbp:"rbp",recommended_ids:"rec",recursive:"rv",referred_student_ids:"rsi",region_ids:"rg",regions:"rgs",related_ids:"rel",relations:"rl",report_ids:"ri",responsive:"res",review_ids:"rw",rolling:"rol",scholarship_ids:"sc",search_variation:"sv",show_areas:"sa",site_ids:"sid",skills:"sk",special_programmes:"sps",spl:"sp",spotlight:"spl",start_dates:"sd",startdate_ids:"sta",statuses:"ss",student_ids:"su",student_organisation_ids:"so",study_deadline_ids:"sdl",study_ids:"st",study_relation:"sr",studyportals:"prtl",sublevel:"sl",subscribed:"sub",subscription_ids:"sb",tags:"tg",tail:"tail",target_ids:"ta",terms:"te",title:"til",to_area_ids:"tae",to_city_ids:"tci",to_country_ids:"tco",to_organisation_ids:"tor",to_region_ids:"trg",to_study_ids:"tst",to_user_ids:"tus",toefl_internet_max:"toeflix",toefl_internet_min:"toeflim",toefl_paper_max:"toeflpx",toefl_paper_min:"toeflpm",topic:"to",topic_ids:"tpc",toplevel:"tl",tuition_fee_currency:"tc",tuition_fee_max:"tx",tuition_fee_min:"tm",tuition_fee_target:"tt",tuition_fee_unit:"tu",tuition_ranges:"tr",type:"tp",types:"ty",uni_admin_users:"uau",uniqueid:"uid",url:"url",user_agent:"ua",user_country:"uc",user_ids:"us",user_region:"ur",venue_ids:"vn",webinar_ids:"wi",year:"yr"},types:{activated:"boolean",active:"boolean",affiliate:"string",allow:"boolean",application_partners:"boolean",approval:"boolean",area_ids:"integer[]",area_presence:"string[]",article_ids:"integer[]",assistant_ids:"integer[]",auditor_ids:"integer[]",banner_boxes:"string[]",banner_ids:"integer[]",body_ids:"integer[]",brand:"string",cae_max:"integer",cae_min:"integer",campaign_ids:"integer[]",capped_budget:"boolean",category_ids:"integer[]",chain_types:"string[]",child_ids:"integer[]",city_ids:"integer[]",classifications:"string[]",cms_user_id:"integer",comparison_ids:"integer[]",consortium_ids:"integer[]",continents:"boolean",country_ids:"integer[]",country_status:"string[]",course_ids:"integer[]",cpm_max:"integer",cpm_min:"integer",date_max:"timestamp",date_min:"timestamp",date_type:"string",degrees:"string[]",density:"string[]",discipline_ids:"integer[]",distance:"string",double_reports:"boolean",duration_max:"integer",duration_min:"integer",duration_ranges:"range[]",education_levels:"string[]",educational_forms:"string[]",email:"string",email_like:"string",entity:"string",entity_ids:"integer[]",entity_types:"string[]",entropy:"integer",entry_level:"string",entry_level_max:"string",entry_level_min:"string",exact_name:"string",exact_query:"string",executive:"boolean",experience_ids:"integer[]",external:"string",facebook_id:"string",favourite_ids:"integer[]",favourited:"boolean",fce_max:"integer",fce_min:"integer",filename:"string",from_area_ids:"integer[]",from_city_ids:"integer[]",from_country_ids:"integer[]",from_organisation_ids:"integer[]",from_region_ids:"integer[]",from_study_ids:"integer[]",from_user_ids:"integer[]",full_name:"string",full_name_email:"string",genders:"string[]",godmode:"boolean",group_ids:"integer[]",group_size_max:"integer",group_size_min:"integer",handler_ids:"integer[]",has_adwords:"boolean",has_banner:"boolean",has_english_courses:"boolean",has_experience:"boolean",has_inquiry_campaign:"boolean",has_language_courses:"boolean",has_language_courses_types:"string[]",has_language_studies:"boolean",has_lead_campaign:"boolean",has_organisations:"boolean",has_reviews:"boolean",has_venues:"boolean",hash:"string",highlight:"boolean",ids:"integer[]",ielts_max:"string",ielts_min:"string",in_ranking:"boolean",intensity_max:"integer",intensity_min:"integer",invert:"boolean",ip:"string",is_student:"boolean",iso_code:"string",joint:"string[]",keywords:"string",kinds:"string[]",language:"string",language_course_ids:"integer[]",language_ids:"integer[]",latitude:"string",lead_campaign_ids:"integer[]",legacy:"boolean",legacy_ids:"integer[]",level:"string",levels:"string[]",locale:"string",locales:"string[]",locations:"string[]",longitude:"string",mailing_type_ids:"integer[]",manager_ids:"integer[]",member_student_ids:"integer[]",methods:"string[]",mobility_types:"string[]",name:"string",no_countries:"boolean",no_disciplines:"boolean",no_duration_max:"boolean",no_duration_min:"boolean",no_from_countries:"boolean",no_levels:"boolean",no_options:"string[]",no_purposes:"boolean",no_users:"boolean",not_country_ids:"integer[]",not_degrees:"string[]",not_send:"boolean",now:"timestamp",occurrence_ids:"integer[]",options:"string[]",organisation_ids:"integer[]",over_budget:"boolean",page:"string",parent_ids:"integer[]",partial_reports:"boolean",parttime_variants:"string[]",person_ids:"integer[]",personal_updates:"boolean",population_max:"string",population_min:"string",portal_types:"string[]",premiums:"string[]",preparation_course_ids:"integer[]",presence:"string[]",product_ids:"integer[]",project_types:"string[]",public:"boolean",purpose:"string",purposes:"string[]",qualified:"boolean",query:"string",ranking_ids:"integer[]",ratings:"string[]",rbp:"boolean",recommended_ids:"integer[]",recursive:"boolean",referred_student_ids:"integer[]",region_ids:"integer[]",regions:"string[]",related_ids:"integer[]",relations:"string[]",report_ids:"integer[]",responsive:"boolean",review_ids:"integer[]",rolling:"boolean",scholarship_ids:"integer[]",search_variation:"integer",show_areas:"boolean",site_ids:"integer[]",skills:"string[]",special_programmes:"string[]",spl:"boolean",spotlight:"boolean",start_dates:"string[]",startdate_ids:"integer[]",statuses:"string[]",student_ids:"integer[]",student_organisation_ids:"integer[]",study_deadline_ids:"integer[]",study_ids:"integer[]",study_relation:"boolean",studyportals:"boolean",sublevel:"boolean",subscribed:"boolean",subscription_ids:"integer[]",tags:"string[]",tail:"boolean",target_ids:"integer[]",terms:"string[]",title:"string",to_area_ids:"integer[]",to_city_ids:"integer[]",to_country_ids:"integer[]",to_organisation_ids:"integer[]",to_region_ids:"integer[]",to_study_ids:"integer[]",to_user_ids:"integer[]",toefl_internet_max:"integer",toefl_internet_min:"integer",toefl_paper_max:"integer",toefl_paper_min:"integer",topic:"string",topic_ids:"integer[]",toplevel:"boolean",tuition_fee_currency:"string",tuition_fee_max:"integer",tuition_fee_min:"integer",tuition_fee_target:"string",tuition_fee_unit:"string",tuition_ranges:"range[]",type:"string",types:"string[]",uni_admin_users:"boolean",uniqueid:"string",url:"string",user_agent:"string",user_country:"integer",user_ids:"integer[]",user_region:"integer",venue_ids:"integer[]",webinar_ids:"integer[]",year:"integer"},alias(e){if("object"!=typeof e)return"";if(0===e.length)return"";let t=[],n=this;return e=this._sort(e),Object.keys(e).map((function(r){let i=e[r];switch(n._getType(r)){case"string[]":try{t.push(n._serializeStringArray(r,i))}catch(e){}break;case"integer[]":try{t.push(n._serializeIntegerArray(r,i))}catch(e){}break;case"range[]":try{t.push(n._serializeRangeArray(r,i))}catch(e){}break;case"string":"string"!=typeof i&&(i=""),i=i.trim(),""!==i&&t.push(n._getShortName(r)+"-"+i);break;case"integer":i=parseInt(i,10),isNaN(i)||t.push(n._getShortName(r)+"-"+i);break;case"boolean":i?t.push(n._getShortName(r)+"-1"):t.push(n._getShortName(r)+"-0");break;case"timestamp":try{i=n._parseTimeStamp(i),t.push(n._getShortName(r)+"-"+i)}catch(e){}}})),0===t.length?"":t.join("|")},unalias(e){if("string"!=typeof e)return{};let t=e.split("|");t.sort();let n={},r=this;return t.map((function(e){let t=e.split("-"),i=t.shift(),s=t.join("-"),a=r._getLongName(i);if(""===a)return;let o=r._getType(a);if(""!==o)switch(o){case"string[]":try{n[a]=r._unserializeStringArray(s)}catch(e){return}break;case"integer[]":try{n[a]=r._unserializeIntegerArray(s)}catch(e){return}break;case"range[]":try{n[a]=r._unserializeRangeArray(s)}catch(e){return}break;case"string":n[a]=s;break;case"integer":isNaN(parseInt(s,10))||(n[a]=s);break;case"boolean":n[a]=!1,s&&(n[a]=!0)}})),n},_sort(e){let t=[];Object.keys(e).map((function(e){t.push(e)})),t.sort();let n={};return t.map((function(t){n[t]=e[t]})),n},_unserializeStringArray(e){let t=e.split(","),n=[];if(t.map((function(e){let t=e.trim();""!==t&&n.push(t)})),0===n.length)throw new Error("Parameters._unserializeStringArray: clean array is empty");return n},_unserializeIntegerArray(e){let t=e.split(","),n=[];if(t.map((function(e){let t=parseInt(e,10);isNaN(t)||n.push(t)})),0===n.length)throw new Error("Parameters._unserializeIntegerArray: empty clean array!");return n},_serializeRangeArray(e,t){if(""===this._getShortName(e))throw new Error("No alias found for "+e+"!");if(t instanceof Array!=1)throw new Error("Not an array!");if(0===t.length)throw new Error("Empty array!");let n=[];if(t.map((function(e){if(e instanceof Array==0)throw new Error("Range not an array!");let t=[];e.map((function(e){let n=parseInt(e,10);if(isNaN(n))throw new Error("Range value is not a number!");t.push(n)})),n.push("["+t.join(",")+"]")})),0===n.length)throw new Error("Empty clean array!");return this._getShortName(e)+"-"+n.join(",")},_unserializeRangeArray(e){e="["+e+"]";let t=[];try{t=JSON.parse(e)}catch(e){throw new Error("Parameters._unserializeRangeArray: incorrect range format!")}if(!(t instanceof Array))throw new Error("Parameters._unserializeRangeArray: ranges is not an array!");if(0===t.length)throw new Error("Parameters._unserializeRangeArray: nothing found in ranges!");let n=[];return t.map((function(e){if(2!==e.length)throw new Error("Parameters._unserializeRangeArray: single range should have two values!");let t=[];e.map((function(e){t.push(parseInt(e,10))})),n.push(t)})),n},_serializeIntegerArray(e,t){if(""===this._getShortName(e))throw new Error("No alias found for "+e+"!");if(!(t instanceof Array))throw new Error("Not an array!");if(0===t.length)throw new Error("Empty array!");let n=[];if(t.map((function(e){let t=parseInt(e,10);isNaN(t)||n.push(t)})),0===n.length)throw new Error("Empty clean array!");return this._getShortName(e)+"-"+n.join(",")},_serializeStringArray(e,t){if(""===this._getShortName(e))throw new Error("No alias found for "+e+"!");if(!(t instanceof Array))throw new Error("Not an array!");if(0===t.length)throw new Error("Empty array!");let n=[];if(t.map((function(e){let t=e.trim();""!==t&&n.push(t)})),0===n.length)throw new Error("Empty clean array!");return this._getShortName(e)+"-"+n.join(",")},_getType(e){return void 0!==this.types[e]?this.types[e]:""},_getShortName(e){return void 0!==this.aliases[e]?this.aliases[e]:""},_getLongName(e){let t="",n=this;return Object.keys(this.aliases).map((function(r){n.aliases[r]===e&&(t=r)})),t},_parseTimeStamp(e){e=e.trim();let t=0,n=0,r=0,i=0,s=1,a=new Date,o=a.getFullYear(),c=moment(a).format("ZZ");if(a.setSeconds(parseInt(r,10)),19===e.length&&(c=e.substr(14,5)),18===e.length){let t=parseInt(e.substr(14,2),10),n=parseInt(e.substr(16,2),10),r=new Date;r.setHours(12,0,0);let i=new Date;i.setHours(t,n,0);let s=r.diff(i,"minute"),a="+";s<0&&(a="-"),s=Math.abs(s),n=s%60,t=Math.floor(s/60),n=n.toString().pad(2,"0","left"),t=t.toString().pad(2,"0","left"),c=a+t+n}switch(e.length){case 19:case 18:case 14:r=e.substr(12,2);case 12:n=e.substr(10,2);case 10:t=e.substr(8,2);case 8:s=e.substr(6,2);case 6:i=e.substr(4,2),i=parseInt(i,10)-1;case 4:o=e.substr(0,4);break;default:throw new Error("Invalid length for datetime, expecting 4, 6, 8, 10, 12, 14, 16, 18 or 19")}return a.setHours(parseInt(t,10)),a.setMinutes(parseInt(n,10)),a.setSeconds(parseInt(r,10)),a.setFullYear(parseInt(o,10)),a.setDate(parseInt(s,10)),a.setMonth(parseInt(i,10)),moment(a).format("YYYYMMDDHHmmss")+c}};t.default=r},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GA=void 0;const r={mandatory_fields:["category","action"],default_action:"click",console_info:[],parseTrackers:function(e){var t=e?[e]:document.querySelectorAll("[data-ga-tracking]");t.length&&Array.from(t).forEach((function(e){if(!e.hasAttribute("data-ga-parsed"))try{r._attachTracker(e)}catch(t){r._warning(t,e)}}))},_warning:function(e,t){},_attachTracker:function(e){if(!e.tagName)throw"The provided el is not an element.";if(!e.hasAttribute("data-ga-tracking"))throw"Missing attribute: data-ga-tracking.";var t=e.getAttribute("data-ga-tracking"),n=[];switch(n=JSON.parse(t),(n=r._validateJSON(n)).event){case"domready":r._warning("The 'domready' event is deprecated, use the 'immediate' event instead.",e);break;case"immediate":r.fireTracker(n);break;default:r.console_info.push({Tracker:n,element:e,event:n.event}),e.addEventListener(n.event,(function(){e.getAttribute("data-ga-tracking-disabled")||(r.fireTracker(n),"remove"==n.onComplete&&e.setAttribute("data-ga-tracking-disabled",!0))}))}return e.setAttribute("data-ga-parsed",!0),!0},_validateJSON:function(e){return r.mandatory_fields.forEach((function(t){if(!e.hasOwnProperty(t)||!e[t])throw"Missing property: "+t+"."})),e.hasOwnProperty("event")||(e.event=r.default_action),e.hasOwnProperty("onComplete")||(e.onComplete=null),e.category=e.category||"",e.action=e.action||"",e.label=e.label||"",e.value=e.value||0,e},fireTracker:function(e,t){"undefined"===t&&(t="undefined"),"function"==typeof ga&&ga("send","event",{eventCategory:e.category,eventAction:e.action,eventLabel:e.label,eventValue:"number"==typeof e.value?e.value:0,hitCallback:function(){document.dispatchEvent(new CustomEvent("ga-tracking-fired",{detail:{trigger:t}}))},hitCallbackFail:function(){document.dispatchEvent(new CustomEvent("ga-tracking-fired",{detail:{trigger:t}}))}}),"object"==typeof _gaq&&_gaq.push(["_trackEvent",e.category,e.action,e.label,e.value])}};t.GA=r},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitForLoad=void 0;var r=n(14);t.waitForLoad=function(e,t){"[object Array]"!==Object.prototype.toString.call(e)&&t(!1);const n=[];for(let t=0;t<e.length;t++){n.push(!1);const s=(0,r.checkNamespace)(e[t].name),a=void 0!==window[e[t].name];let o=!1,c=!1;a&&(o=void 0!==window[e[t].name].initialised,c=window[e[t].name].initialised),s||a&&!o||a&&o&&!0===c?(n[t]=!0,i()):(window.addEventListener(e[t].event,()=>{n[t]=!0,i()}),document.addEventListener(e[t].event,()=>{n[t]=!0,i()}))}function i(){const e=n.filter((e,t,n)=>n.indexOf(e)===t);1===e.length&&!0===e[0]&&t()}}},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Suggestion=void 0,t.Suggestion=class{constructor(e,t,n,r,i,s){this.title=e,this.type=t,this.paramName=n,this.id=r,this.isExactMatch=i,this.position=s}render(){const e=document.createElement("li");return e.innerText=this.title,e.className="Suggestion Link",e.dataset.position=this.position,e.dataset.paramValue=this.id,e.dataset.paramName=this.paramName,e}}},527:function(e,t,n){n(528),n(134),n(11),n(84),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),e.exports=n(552)},528:function(e,t,n){"use strict";var r=n(529),i=p(n(531)),s=n(534),a=d(n(535)),o=p(n(536)),c=d(n(537)),u=d(n(538)),l=d(n(539));function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}const g={DataStorage:r.DataStorage,MicroserviceInjector:i,DotmailerTracker:s.DotmailerTracker,FormGenerator:a.default,BodyScrollLock:o,cryptoJSmd5:c.default,cryptoJSEncUtf8:u.default,cryptoJSEncBase64:l.default};window.Loot=g},529:function(e,t,n){"use strict";var r=new(n(530).DataStorage);r.init(),e.exports={DataStorage:r}},530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.enabled=!1}return e.prototype.init=function(){try{if("undefined"==typeof localStorage)return void(this.enabled=!1);localStorage.setItem("test","dummy value"),localStorage.removeItem("test"),this.enabled=!0}catch(e){this.enabled=!1}},e.prototype.store=function(e,t,n){if(void 0===n&&(n=1800),this.enabled){var r=new Date,i={expires:r.setSeconds(r.getSeconds()+n),data:t};localStorage[e]=JSON.stringify(i)}else document.cookie=e+"="+t+";expires="+n/86400;return!0},e.prototype.retrieve=function(e){if(this.enabled){var t=localStorage[e];try{t=JSON.parse(t)}catch(e){t={}}if(!t||!t.hasOwnProperty("expires")||!t.hasOwnProperty("data"))return"";var n=parseInt(t.expires,10);return isNaN(n)&&(n=0),new Date>=new Date(n)?(localStorage[e]=null,""):t.data}return this.getCookie(e)},e.prototype.remove=function(e){this.enabled?delete localStorage[e]:document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e.prototype.update=function(e,t,n){var r=this.retrieve(e);return"object"!=typeof r&&(r={}),r=Object.assign({},r,t),this.store(e,r,n),r},e.prototype.getCookie=function(e){var t=RegExp(e+"=.[^;]*"),n=document.cookie.match(t);return n?n[0].split("=")[1]:""},e}();t.DataStorage=r},531:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(532),i=n(533);t.injectScriptToBody=function(e){return r.default(e,document.body)},t.injectStyleSheetToHead=function(e){return i.default(e,document.head||document.body)}},532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise((function(n,r){var i=document.createElement("script");i.onload=function(){return n()},i.onerror=function(){return r()},i.async=!1,i.src=e,t.appendChild(i)}))}},533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise((function(n,r){var i=document.createElement("link");i.rel="stylesheet",i.onload=function(){return n()},i.onerror=function(){return r()},i.href=e,t.appendChild(i)}))}},534:function(e,t,n){e.exports.DotmailerTracker=n(553).default},535:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.form=e}return e.handleElementBlur=function(t){e.addOrRemoveElementHasValueClass(t),t.classList.remove("HasFocus")},e.handleElementFocus=function(e){e.classList.add("HasFocus")},e.addOrRemoveElementHasValueClass=function(e){""!==e.value?e.classList.add("HasValue"):e.classList.remove("HasValue")},e.prototype.generate=function(){this.addEventListeners(),this.repositionElementLabels()},e.prototype.addEventListeners=function(){this.form.addEventListener("blur",(function(t){t.target&&e.handleElementBlur(t.target)}),!0),this.form.addEventListener("focus",(function(t){t.target&&e.handleElementFocus(t.target)}),!0)},e.prototype.repositionElementLabels=function(){this.getInputElements().forEach((function(t){e.addOrRemoveElementHasValueClass(t)}))},e.prototype.getInputElements=function(){return Array.from(this.form.elements).filter((function(e){return e instanceof HTMLInputElement})).map((function(e){return e}))},e}();t.default=n},536:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),s=[],a=!1,o=-1,c=void 0,u=void 0,l=function(e){return s.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!l(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},h=function(){setTimeout((function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)}))};e.disableBodyScroll=function(e,r){if(i){if(!e)return;if(e&&!s.some((function(t){return t.targetElement===e}))){var h={targetElement:e,options:r||{}};s=[].concat(t(s),[h]),e.ontouchstart=function(e){1===e.targetTouches.length&&(o=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,i,s;1===t.targetTouches.length&&(r=e,s=(n=t).targetTouches[0].clientY-o,!l(n.target)&&(r&&0===r.scrollTop&&0<s||(i=r)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&s<0?d(n):n.stopPropagation()))},a||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),a=!0)}}else{g=r,setTimeout((function(){if(void 0===u){var e=!!g&&!0===g.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(u=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}));var p={targetElement:e,options:r||{}};s=[].concat(t(s),[p])}var g},e.clearAllBodyScrollLocks=function(){i?(s.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),a&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1),s=[],o=-1):(h(),s=[])},e.enableBodyScroll=function(e){if(i){if(!e)return;e.ontouchstart=null,e.ontouchmove=null,s=s.filter((function(t){return t.targetElement!==e})),a&&0===s.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1)}else(s=s.filter((function(t){return t.targetElement!==e}))).length||h()}})?r.apply(t,[t]):r)||(e.exports=i)},537:function(e,t,n){var r;e.exports=(r=n(178),function(e){var t=r,n=t.lib,i=n.WordArray,s=n.Hasher,a=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,a=e[t+0],c=e[t+1],p=e[t+2],g=e[t+3],f=e[t+4],m=e[t+5],_=e[t+6],y=e[t+7],v=e[t+8],w=e[t+9],b=e[t+10],S=e[t+11],C=e[t+12],E=e[t+13],k=e[t+14],L=e[t+15],x=s[0],P=s[1],A=s[2],T=s[3];x=u(x,P,A,T,a,7,o[0]),T=u(T,x,P,A,c,12,o[1]),A=u(A,T,x,P,p,17,o[2]),P=u(P,A,T,x,g,22,o[3]),x=u(x,P,A,T,f,7,o[4]),T=u(T,x,P,A,m,12,o[5]),A=u(A,T,x,P,_,17,o[6]),P=u(P,A,T,x,y,22,o[7]),x=u(x,P,A,T,v,7,o[8]),T=u(T,x,P,A,w,12,o[9]),A=u(A,T,x,P,b,17,o[10]),P=u(P,A,T,x,S,22,o[11]),x=u(x,P,A,T,C,7,o[12]),T=u(T,x,P,A,E,12,o[13]),A=u(A,T,x,P,k,17,o[14]),x=l(x,P=u(P,A,T,x,L,22,o[15]),A,T,c,5,o[16]),T=l(T,x,P,A,_,9,o[17]),A=l(A,T,x,P,S,14,o[18]),P=l(P,A,T,x,a,20,o[19]),x=l(x,P,A,T,m,5,o[20]),T=l(T,x,P,A,b,9,o[21]),A=l(A,T,x,P,L,14,o[22]),P=l(P,A,T,x,f,20,o[23]),x=l(x,P,A,T,w,5,o[24]),T=l(T,x,P,A,k,9,o[25]),A=l(A,T,x,P,g,14,o[26]),P=l(P,A,T,x,v,20,o[27]),x=l(x,P,A,T,E,5,o[28]),T=l(T,x,P,A,p,9,o[29]),A=l(A,T,x,P,y,14,o[30]),x=d(x,P=l(P,A,T,x,C,20,o[31]),A,T,m,4,o[32]),T=d(T,x,P,A,v,11,o[33]),A=d(A,T,x,P,S,16,o[34]),P=d(P,A,T,x,k,23,o[35]),x=d(x,P,A,T,c,4,o[36]),T=d(T,x,P,A,f,11,o[37]),A=d(A,T,x,P,y,16,o[38]),P=d(P,A,T,x,b,23,o[39]),x=d(x,P,A,T,E,4,o[40]),T=d(T,x,P,A,a,11,o[41]),A=d(A,T,x,P,g,16,o[42]),P=d(P,A,T,x,_,23,o[43]),x=d(x,P,A,T,w,4,o[44]),T=d(T,x,P,A,C,11,o[45]),A=d(A,T,x,P,L,16,o[46]),x=h(x,P=d(P,A,T,x,p,23,o[47]),A,T,a,6,o[48]),T=h(T,x,P,A,y,10,o[49]),A=h(A,T,x,P,k,15,o[50]),P=h(P,A,T,x,m,21,o[51]),x=h(x,P,A,T,C,6,o[52]),T=h(T,x,P,A,g,10,o[53]),A=h(A,T,x,P,b,15,o[54]),P=h(P,A,T,x,c,21,o[55]),x=h(x,P,A,T,v,6,o[56]),T=h(T,x,P,A,L,10,o[57]),A=h(A,T,x,P,_,15,o[58]),P=h(P,A,T,x,E,21,o[59]),x=h(x,P,A,T,f,6,o[60]),T=h(T,x,P,A,S,10,o[61]),A=h(A,T,x,P,p,15,o[62]),P=h(P,A,T,x,w,21,o[63]),s[0]=s[0]+x|0,s[1]=s[1]+P|0,s[2]=s[2]+A|0,s[3]=s[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var s=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,s,a){var o=e+(t&n|~t&r)+i+a;return(o<<s|o>>>32-s)+t}function l(e,t,n,r,i,s,a){var o=e+(t&r|n&~r)+i+a;return(o<<s|o>>>32-s)+t}function d(e,t,n,r,i,s,a){var o=e+(t^n^r)+i+a;return(o<<s|o>>>32-s)+t}function h(e,t,n,r,i,s,a){var o=e+(n^(t|~r))+i+a;return(o<<s|o>>>32-s)+t}t.MD5=s._createHelper(c),t.HmacMD5=s._createHmacHelper(c)}(Math),r.MD5)},538:function(e,t,n){e.exports=n(178).enc.Utf8},539:function(e,t,n){var r,i,s;e.exports=(s=n(178),i=(r=s).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],s=0;s<n;s+=3)for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;o<4&&s+.75*o<n;o++)i.push(r.charAt(a>>>6*(3-o)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<n.length;s++)r[n.charCodeAt(s)]=s}var a=n.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(t=o)}return function(e,t,n){for(var r=[],s=0,a=0;a<t;a++)if(a%4){var o=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2;r[s>>>2]|=(o|c)<<24-s%4*8,s++}return i.create(r,s)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},s.enc.Base64)},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0,t.Popup=class{constructor(e){this.element=null,this.options={content:null,closeContainer:null,closeMethod:"destroy",onOpen:function(){},onClose:function(){}},this.options=Object.assign(this.options,e),this.initialize()}initialize(){var e,t=this;e=this.options.content?this.options.content:document.createElement("div"),this.element=document.querySelector(".Popup"),this.element||(this.element=document.createElement("div"),this.element.className="Popup Hidden",document.body.insertBefore(this.element,null)),e.closest(".Popup")||this.element.insertBefore(e,null),this.element.children.length,this.element.querySelectorAll(".PopupContent").length;var n=document.createElement("i");if(n.className="CloseButton lnr-cross",this.options.closeContainer){var r=this.options.closeContainer.querySelector(".CloseButton");r?n=r:this.options.closeContainer.insertBefore(n,null)}else this.element.insertBefore(n,null);const i=document.getElementsByClassName("Popup");for(let e=0;e<i.length;e++)i[e].addEventListener("click",e=>{e.target.classList.contains("Popup")&&t.closePopup()});n.addEventListener("click",this.closePopup.bind(this))}showPopup(){var e=this;return this.element.classList.remove("Hidden"),setTimeout((function(){e.element.classList.add("PopupVisible")}),50),this.options.onOpen(),this.element}closePopup(){this.element.classList.remove("PopupVisible"),"hide"===this.options.closeMethod?(this.hidePopup(),this.options.content.classList.add("Hidden")):this.destroyPopup(),this.options.onClose()}hidePopup(){this.element.classList.add("Hidden")}destroyPopup(){this.element&&this.element.remove()}},window.dispatchEvent(new CustomEvent("popup_ready"))},541:function(e,t,n){"use strict";!function(){const e=navigator.userAgent.toLowerCase(),t=function(t){return-1!==e.indexOf(t.toLowerCase())};(t("windows")&&(t("chrome")||t("firefox")||t("edge"))||t("macintosh")&&(t("chrome")||t("safari"))||t("android")&&t("chrome")||t("iphone")&&t("safari"))&&(window.ExperimentScript=class{constructor(e,t,n){this.experimentName=e,this.variations=t,this.style=document.createElement("style"),this.style.innerHTML=n,this.variation={},this.experimentPropertiesValidation(e,t,n).length||this.initiateExperiment()}experimentPropertiesValidation(e,t,n){let r="";"string"==typeof e&&e.length||(r="No experiment name"),"[object Array]"===Object.prototype.toString.call(t)&&t.length||(r="Variations not of right format");let i=0;return t.forEach(e=>{"number"==typeof e.number&&"number"==typeof e.traffic&&"string"==typeof e.name&&e.name.length?i+=e.traffic:r="One of variations not of right format"}),100!==Math.round(i)&&(r="Total traffic of all variations is not 100%"),"string"!=typeof n&&(r="Styling not of right format"),r}areConditionsMet(){return!0}setVariation(){if(!window.Loot||!Loot.DataStorage||"function"!=typeof Loot.DataStorage.retrieve||"function"!=typeof Loot.DataStorage.store)return;const e="Experiment/"+this.experimentName;this.variation=Loot.DataStorage.retrieve(e),this.variation&&"number"==typeof this.variation.number||(this.decideVariation(),Loot.DataStorage.store(e,this.variation,2592e3))}decideVariation(){const e=this,t=100*Math.random();let n=0;this.variations.some(r=>{if(n+=r.traffic,n>t)return e.variation=r,!0})}fireTracking(e,t=null,n=null){const r=this.experimentName+" - "+this.variation.number;window.snowplow&&snowplow("trackStructEvent","Experiment",r,e,t,n)}performActionsForVariations(){document.head.appendChild(this.style)}performActionsForControl(){}initiateExperiment(){const e=console;this.setVariation(),"number"==typeof this.variation.number&&this.variation.name&&(e.info(`Experiment running: ${this.experimentName} on variation ${this.variation.number} ${this.variation.name}.`),this.areConditionsMet()&&(0===this.variation.number?this.performActionsForControl():this.performActionsForVariations(),this.fireTracking("ExperimentImpression")))}},window.addExperiment=function(e,t,n,r){class i extends window.ExperimentScript{constructor(){super(e,t,n)}}r.forEach(e=>{"string"==typeof e.name&&"function"==typeof e.code&&(i.prototype[e.name]=e.code)}),new i})}()},542:function(e,t,n){"use strict";var r,i=n(18),s=n(17),a=n(15),o=(r=n(60))&&r.__esModule?r:{default:r};class c{constructor(){i.UrlHandler.isSearchPage()||(this.tuitionSettingsController=new s.TuitionSettingsController(Loot.DataStorage,o.default),this.autoCompleteController=new a.AutoCompleteControllerGeneric(Loot.DataStorage))}}void 0===window.StudyPortals?window.StudyPortals={main:new c}:window.StudyPortals.main=new c},543:function(e,t,n){"use strict";({init(){this.ModulesToShow=this._findModulesToShow(),this.ModulesToHide=this._findModulesToHide(),this._subscribeActionsToLogin()},_findModulesToShow:()=>document.getElementsByClassName("ShowOnLogin"),_findModulesToHide:()=>document.getElementsByClassName("HideOnLogin"),_hideModule(e){e.classList.add("Hidden")},_showModule(e){e.classList.remove("Hidden")},_processModules(e,t){for(let t=0;t<e.length;t++)this._showModule(e[t]);for(let e=0;e<t.length;e++)this._hideModule(t[e])},_subscribeActionsToLogin(){AuthController.subscribe((e,t)=>{t.LoggedInStatus&&this._processModules(this.ModulesToShow,this.ModulesToHide)})}}).init()},544:function(e,t,n){"use strict";var r=s(n(0)),i=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}window.userLocation=new class{constructor(){this.hasAccountNationality=!1,this.setAccountNationality(),EventAggregationService.subscribeToSessionCreatedEvent({notify:()=>this.setAccountNationality()})}setCountry(e,t){["LocationSwitcher","Account"].includes(t)&&(this.updateCookie(e,t),this.sendTracking(e,t))}sendTracking(e,t){r.default.addFunctionToPipelineTracker(n=>{n.trackStructEvent("location_changed",t,e)})}setAccountNationality(){AnonymousStudent.getStudentData(["nationality_country_id"]).then(e=>{e.nationality_country_id&&(this.hasAccountNationality=!0,this.setCountry(e.nationality_country_id,"Account"))}).catch(()=>{})}updateCookie(e,t){this.hasAccountNationality&&"LocationSwitcher"===t||i.default.setItem("user_nationality_id",e,1/0,"/")}},document.dispatchEvent(new Event("user_location_ready"))},545:function(e,t,n){"use strict";!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.config=t}return r(e,[{key:"track",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.url=e._getUri(),this.config.tags=this.config.tags||[];var r=this._cleanCombineTwoArrays(t.tags,this.config.tags);if(t=Object.assign(t,this.config),r.length>0&&(t.tags=r),n)return this._sendRequest(e._getRequestOptions(t),n);this._sendRequest(e._getRequestOptions(t),n)}},{key:"addConstantTag",value:function(e){if("string"==typeof e){var t=!1;this.config.tags=this.config.tags||[],this.config.tags.map((function(n){n.toLowerCase()===e.toLowerCase()&&(t=!0)})),t||this.config.tags.push(e)}}},{key:"_cleanCombineTwoArrays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.concat(t);return n.filter((function(e,t){return n.indexOf(e)===t}))}},{key:"_sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i=new XMLHttpRequest;t&&(i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?n(JSON.parse(i.responseText)):r(JSON.parse(i.responseText)))}),i.open(e.method,e.url),i.setRequestHeader("Content-Type","application/json"),i.send(e.body)}))}}],[{key:"_getUri",value:function(){return window.location.toString()}},{key:"_getRequestOptions",value:function(e){return{url:"https://c6coiy9r7a.execute-api.eu-west-1.amazonaws.com/prd/events",method:"PUT",body:JSON.stringify(e)}}}]),e}();t.default=i,window.SPTracker=i}])},546:function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r},s=n(11);const a=!0===i.default.live?"prd":"tst",o=new window.SPTracker({environment:a,team:"spc",product:"Study",category:"PremiumClick"});(new class{constructor(){this.elements=[],document.addEventListener("premium_click_tracker_update_listeners",()=>this.attachEventListeners())}attachEventListeners(){document.querySelectorAll(".TrackingExternalLink").forEach(e=>{this.elements.includes(e)||(this.elements.push(e),e.addEventListener("click",(function(e){let t=e.target.className.split(" ");if(e.target.dataset.gaTracking){const n=JSON.parse(e.target.dataset.gaTracking);t.push(n.value)}s.PortalType&&t.push(s.PortalType.getCurrentPortal()),o.track({tags:t,action:"Click",label:"ReferrerButton"})})))})}}).attachEventListeners()},547:function(e,t,n){"use strict";document.addEventListener("DotmailerReady",()=>{void 0!==window.AuthController&&void 0!==window.dmPt&&void 0!==window.Loot.DotmailerTracker&&(new window.Loot.DotmailerTracker).init()})},548:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},552:function(e,t,n){},553:function(e,t,n){"use strict";n.r(t);class r{constructor(){}subscribeToLoginEvent(){window.AuthController.subscribe((e,t)=>{null===e&&t.LoggedInStatus&&this.registerUser()})}registerUser(){this.fetchEmail().then(e=>{document.dispatchEvent(new CustomEvent("DotmailerStudentRegistered",{detail:{email:e}}))}).catch(e=>{})}fetchEmail(){return new Promise((e,t)=>{void 0===window.AnonymousStudent&&t("Student object not available!"),window.AnonymousStudent.getStudentData(["email"]).then(t=>{e(t.email)}).catch(e=>{t(e)})})}}class i{constructor(){}getInformationFromId(e,t){const n=this._getDataSetFromElement(e),r=Object.assign({},n);return this._getDotmailerDataFromObject(r,t)}_getDotmailerDataFromObject(e,t){let n={};for(let[r,i]of Object.entries(e)){let e=this._isDotmailerDataset(r);e&&(e=t+e,n[e]=i)}return n}_getDataSetFromElement(e){const t=document.getElementById(e);return t?t.dataset:""}_isDotmailerDataset(e){return"dotmailer"===e.substring(0,9)&&e.substring(9)}}class s{constructor(){}currentPage(){return this._isStudyPage()?"study":this._isStudyOptionsPage()?"studyOptions":void 0}_isStudyPage(){return 0===new URL(window.location).pathname.indexOf("/studies/")}_isStudyOptionsPage(){return 0===new URL(window.location).pathname.indexOf("/study-options/")}}n.d(t,"default",(function(){return a}));class a{constructor(){this.tracker=window.dmPt,this.studentHelper=new r,this.datasetExtractor=new i,this.pageIdentifier=new s}init(){this.identifyUserInDotmailerOnRegister(),this.trackPageView()}identifyUserInDotmailerOnRegister(){document.addEventListener("DotmailerStudentRegistered",e=>{const t=e.detail.email;this.tracker("identify",t)}),this.studentHelper.subscribeToLoginEvent()}trackPageView(){switch(this.pageIdentifier.currentPage()){case"study":this.trackStudyPageDetails();break;case"studyOptions":this.trackStudyOptionsPageDetails();break;default:this.tracker("track")}}trackStudyPageDetails(){const e=this.datasetExtractor.getInformationFromId("StudyHeader","study"),t=this.datasetExtractor.getInformationFromId("StudyHeaderDescription","organisation");this.tracker("track",Object.assign(e,t))}trackStudyOptionsPageDetails(){const e=this.datasetExtractor.getInformationFromId("HeaderContentWrapper","studyOptions");this.tracker("track",e)}}},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; expires="+new Date(1e3*n+Date.now()).toUTCString();break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(s?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};void 0!==e.exports&&(e.exports=r);var i=r;t.default=i},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoComplete=void 0;var r=o(n(2)),i=n(13),s=o(n(12)),a=n(5);function o(e){return e&&e.__esModule?e:{default:e}}class c{constructor(e,t,n=null){this.inputValues={id:null,name:null,keyword:""},this._index=t,this._inputField=e,this.originalValue="",this.interaction="",this._focusableElements=[],this._focusPointer=-1,this._suggestions=[],this._maxResults=4,this._container=document.createElement("div"),this._container.className="AutoCompleteContainer",this._container.innerHTML='<ul class="AutoComplete"></ul>',this._inputField.parentNode.appendChild(this._container);const r=this._inputField.closest("form");this._formID=r.id,this._button=r.querySelector("button[type=submit]"),this.suggestType=e.dataset.type,this.suggestType||(this.suggestType="all"),this.searchParameters=defaultSearchParameters,null!==n&&(this.searchParameters=n.getQParameters()),document.addEventListener("url_change",e=>{this.searchParameters=e.detail.searchRequest.getQParameters()}),document.addEventListener("search_complete",()=>{this._inputField.value=""})}get index(){return this._index}get submitButton(){return this._button}get formID(){return this._formID}get inputValue(){return this._inputField.value}set inputValue(e){const{selectionStart:t,selectionEnd:n}=this._inputField;this._inputField.value=e,this._inputField.selectionStart=t,this._inputField.selectionEnd=n}suggest(e=(()=>{})){this.moveSelectedTo(-1);const t=this._inputField.value;if(""===t)this.hide(),e([]);else if(this._suggestions=[],t.length>0){this.searchParameters.degrees&&delete this.searchParameters.degrees;const n={type:this.suggestType,keyword:encodeURIComponent(t),context:r.default.alias(this.searchParameters)};this._doRequest(n,e)}}show(){this.moveSelectedTo(-1),this._container.classList.remove("Hidden")}hide(){this.moveSelectedTo(-1),this._container.classList.add("Hidden")}focus(){const{selectionStart:e,selectionEnd:t}=this._inputField;this._inputField.focus(),this._inputField.selectionStart=e,this._inputField.selectionEnd=t}blur(){this._inputField.blur(),this._inputField.selectionStart=this._inputField.value.length,this._inputField.selectionEnd=this._inputField.value.length}copySelectionText(){this.originalValue=this._inputField.value;const e=this._container.getElementsByClassName("Selected");e.length>0&&(this.inputValue=e[0].innerText)}setSelectedValue(){const e=this._container.getElementsByClassName("Selected");if(e.length>0){const t=e[0];this.selectedValue={id:parseInt(t.dataset.paramValue,10),name:t.dataset.paramName,position:parseInt(t.dataset.position,10)+1,title:t.innerText}}else this.selectedValue=null}get selectedPosition(){return this.selectedValue?this.selectedValue.position.toString():""}get matchedValue(){return this.selectedValue?`${this.selectedValue.name}-${this.selectedValue.id}`:""}moveSelectedTo(e){if("number"==typeof e){if(-1===e)Array.from(this._container.getElementsByClassName("Selected")).forEach(e=>{e.classList.remove("Selected")});else{if(!(this._focusableElements.length>0))return void this.moveSelectedTo(-1);if(!this._focusableElements[e])return;Array.from(this._container.getElementsByClassName("Selected")).forEach(e=>{e.classList.remove("Selected")}),this._focusableElements[e].classList.add("Selected")}this._focusPointer=e}}moveSelectedUp(){this.moveSelectedTo(this._focusPointer-1)}moveSelectedDown(){this.moveSelectedTo(this._focusPointer+1)}addEventListener(e,t){this._inputField.addEventListener(e,t)}onSelectionChange(e){this._inputField.addEventListener("selectionChange",e)}updateSelectedFilter(e){if(this.selectedValue)return this.setFilterValuesFromCurrentSelection(),void e();this.suggest(t=>{let n=null;if(t.some(e=>{if(e.isExactMatch)return n=e,!0}),null!==n)return this.setFilterValues(n),void e();this.setKeywordValues(),this.hide(),e()})}setKeywordValues(){this.inputValues.id=null,this.inputValues.name=null,this.inputValues.keyword=this._inputField.value,this.inputValues.title=this.inputValues.keyword}setFilterValues(e){this.inputValues.id=e.id,this.inputValues.name=e.paramName,this.inputValues.title=e.title,this.inputValues.keyword=""}setFilterValuesFromCurrentSelection(){this.inputValues.id=this.selectedValue.id,this.inputValues.name=this.selectedValue.name,this.inputValues.title=this.selectedValue.title,this.inputValues.keyword=""}_render(){if(0===this._suggestions.length)return;let e=this._container.getElementsByTagName("ul")[0];const t=Array.from(e.getElementsByClassName("Suggestion"));if(Array.from(e.getElementsByClassName("AutoCompleteHeading")).forEach(e=>{e.remove()}),this._suggestions.splice(this._maxResults),this._sortSuggestionsByType(),this._suggestions.forEach((n,r)=>{const i=n.render();i.addEventListener("mousedown",()=>{this.interaction="click",this.moveSelectedTo(r),this._inputField.dispatchEvent(new Event("selectionChange"))}),i.addEventListener("mouseover",()=>{this.moveSelectedTo(r)});const s=Array.from(e.getElementsByClassName("Suggestion"));e=c._addHeadings(e,n,r,s),r<t.length?t[r].parentNode.replaceChild(i,t[r]):e.appendChild(i)}),0!==t.length&&t.length>this._suggestions.length){const n=Array.from(e.getElementsByClassName("Suggestion"));for(let e=t.length-1;e>=this._suggestions.length;e--)n[e].remove()}this._focusableElements=Array.from(this._container.getElementsByClassName("Suggestion")),document.activeElement===this._inputField&&this.show()}_sortSuggestionsByType(){const e=[...new Set(this._suggestions.map(e=>e.type))],t=[];e.forEach(e=>{const n=this._suggestions.filter(t=>t.type===e);t.push(...n)}),this._suggestions=t}static _addHeadings(e,t,n,r){const i=t.type;if(!e.querySelector(".AutoCompleteHeading."+i)){const t=document.createElement("li");t.innerText=i,t.className="AutoCompleteHeading "+i,0===n?e.insertBefore(t,r[0]):e.insertBefore(t,r[n])}return e}static _getParamName(e,t){let n="";switch(e){case"specialisation":case"discipline":n="discipline_ids";break;case"country":n="country_ids";break;case"organisation":if(t<=0)break;n="organisation_ids";break;case"continent":n="region_ids"}return n}_requestSuccess(e,t){const n=[];e.forEach((e,t)=>{const r=c._getParamName(e.type,e.count);if(!r)return;const i=new a.Suggestion(e.name,e.type,r,e.id,e.is_exact_match,t);n.push(i)}),0!==n.length?(this._suggestions=n,this._render(),this.setAutoCompleteWidth(),""===this.inputValue&&this.hide(),t(n)):t([])}_doRequest(e,t){if(!e||!e.keyword)return void t();let n=[],r=s.default.autoCompleteURL+"?";Object.keys(e).forEach(t=>{n.push(`${t}=${e[t]}`)}),r+=n.join("&");const a={method:"get",url:r,mode:"cors"};i.FetchQueue.addRequest(a.url,a).then(e=>{if(e.ok)return e.json()}).then(e=>{this._requestSuccess(e,t)}).catch(()=>{this._requestSuccess([],t)})}setAutoCompleteWidth(){this._container.style.width=this._inputField.getBoundingClientRect().width+"px"}}t.AutoComplete=c},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(57))&&r.__esModule?r:{default:r},s=n(66),a={location:null,actions:["impr","view","clic","subm"],reload:!1,factsHistory:[],previousPage:"",collect:function(){var e=document.querySelector(".TrackingLocation");this.location=this.gatherLocation(e),document.querySelector(".TrackingSearchValue")&&this.saveSearchData();var t=[];Array.from(document.getElementsByClassName("TrackingEvent")).forEach(e=>{if(!this.reload||e.classList.contains("TrackingRetrigger")){var n=this.gather(e);n&&-1===t.indexOf(n)&&t.push(n)}}),t.length>0&&this.send(t),window.dispatchEvent(new CustomEvent("trackingready"))},trackExternalLinks:function(e){e||(e=document.querySelectorAll("a.TrackingExternalLink"));const t=a.getTrackData(),n=this.getIds();Array.from(e).forEach(e=>{this.setUpLink(e,t.tap_groups,n)})},setUpLink:function(e,t,n){if("A"!==e.tagName||!e.classList.contains("TrackingExternalLink"))return;var r=this.renderData([this.gather(e)]);r=JSON.stringify(r),void 0!==Loot.cryptoJSEncBase64&&(r=Loot.cryptoJSEncBase64.stringify(Loot.cryptoJSEncUtf8.parse(r)));var i=e.getAttribute("href");-1!==i.indexOf("%23%23timestamp%23%23")&&(i=i.replace("%23%23timestamp%23%23",Math.round((new Date).getTime()/1e3)));const s=new URL(i),a=Object.assign({facts:r,taps:t},n);for(let e in a)s.searchParams.set(e,a[e]);e.setAttribute("href",s.toString())},gatherLocation:function(e){var t={t:"other",i:null,d:null,l:null};if(e){var n=e.getAttribute("data-type"),r=e.getAttribute("data-id"),i=e.getAttribute("data-description"),s=e.getAttribute("data-label");if(!n||0==n.length)return t;t={t:n,i:r,d:i,l:s}}return t},gather:function(e,t){if(t=t||"TrackingEvent",e){var n=e.getAttribute("data-action"),r=e.getAttribute("data-type"),i=e.getAttribute("data-id"),s=e.getAttribute("data-description"),a=e.getAttribute("data-label");if(-1===this.actions.indexOf(n))return null;if(!r||!i)return null;var o={a:n,t:r,i:i,d:s,l:a};try{var c=e.getAttribute("data-extra");(c=c?JSON.parse(c):null)&&Object.keys(c).length>0&&(o.ex=c)}catch(e){}var u=e.closest(".TrackingLinkedList");if(e.classList.contains("TrackingNoLocation"))o.lo=null;else if(u&&u.getAttribute("data-list-type")==r){var l=0;u.getAttribute("data-start")&&(l=parseInt(u.getAttribute("data-start")),(isNaN(l)||l<0)&&(l=0)),o.lo=this.gatherLocation(u),Array.from(u.querySelectorAll(`.${t}[data-type=${r}]`)).forEach((function(e,t){e.getAttribute("data-id")==i&&(o.lo.i=l+t+1)}))}else if(e.hasAttribute("data-location")){var d=e.getAttribute("data-location"),h=document.getElementById(d);if(!h||!h.classList.contains("TrackingCustomLocation"))return o;o.lo=this.gatherLocation(h)}else this.location&&o.i==this.location.i&&o.t==this.location.t&&"view"==o.a&&(o.lo=null);return o}return null},saveSearchData:function(){var e=document.querySelector(".TrackingSearchValue");if(e&&e.getAttribute("data-search").length>0){var t=a.getTrackData();if(null===t)return;t.search=e.dataset.search,a.setCookie(t)}},send:function(e,t){var n=this.renderData(e);if(null===(n=JSON.stringify(n)))return null;var r=a.getTrackData();if(null===r)return null;var i=r.tap_groups,o="Netscape"===navigator.appName&&window.navigator.msPointerEnabled;if(this.factsHistory.push(n),o||!("withCredentials"in new XMLHttpRequest)&&"undefined"==typeof XDomainRequest){void 0!==Loot.cryptoJSEncBase64&&(n=Loot.cryptoJSEncBase64.stringify(Loot.cryptoJSEncUtf8.parse(n)));const e={facts:n,taps:i},t=Object.keys(e).map((function(t){return`${t}=${e[t]}`})).join("&");Async.image(`${Meta.sl_external_url}track/pixel/?${t}`)}else{var c=new Headers;c.append("content-type","application/x-www-form-urlencoded; charset=UTF-8");var u=Meta.sl_external_url+"track/facts/";fetch(u,{method:"post",mode:"cors",credentials:"include",headers:c,body:s.ServiceLayerClient.parseBody({facts:n,taps:i})}).then(()=>{t&&"function"==typeof t&&t()}).catch(e=>{})}},sendSet:function(e,t){if(!this.location){const e=document.querySelector(".TrackingLocation");this.location=this.gatherLocation(e)}for(var n=[],r=0;r<e.length;r++){var i=e[r],s=this.gather(i,t);null!==s&&n.push(s)}this.send(n)},renderData:function(e){var t={};t.l=this.location;var n=a.getTrackData();if(null==n)return null;t.s=n.search;let r={};return r.i=n.ip,r.s=n.uuid,r.l=n.lang,r.c=this.getNationalityCookie(),t.u=r,t.f=e,t},getTrackData:function(){return JSON.parse(i.default.getItem("StudyPortals-trck"))},getNationalityCookie:function(){const e=i.default.getItem("user_nationality_id");return e?this.getNationalityIso(e):null},getNationalityIso:function(e){const t=document.querySelector(".js-locationSelect");if(!t)return null;const n=Array.from(t.children).find(t=>t.value===e);return n.dataset.iso?n.dataset.iso.toLowerCase():null},checkReloadState:function(){var e=window.location.toString(),t=a.getTrackData();null!==t&&(t.previousPage&&t.previousPage==e?this.reload=!0:this.reload=!1)},getCountryId:function(){const e=a.getTrackData();return e&&e.hasOwnProperty("origin")?isNaN(e.origin)||null===e.origin?0:parseInt(e.origin):0},getIds:function(){if(!window.hasOwnProperty("snowplow"))return{};let e=[];if(window.snowplow((function(){e=Object.values(this)})),0===e.length)return{};const t=e[0],n=t.getDomainUserInfo();if(n.length<7)return{};const r={duid:n[1],sid:n[6]},i=t.getUserId();return i&&(r.uid=i),r},resetPreviousPage(){const e=window.name,t=this.getTrackData();if(!t)return;const n=this.getHostName(document.referrer),r=this.getHostName(t.previousPage),i=n&&-1!==r.indexOf(n);window.name="studyportals",i||"studyportals"===e||(t.previousPage="",a.setCookie(t)),i&&"studyportals"!==e&&(t.previousPage=document.referrer,a.setCookie(t)),this.previousPage=t.previousPage},getHostName(e){if(!e)return"";const t=document.createElement("a");return t.href=e,t.hostname},setCookie(e){i.default.setItem("StudyPortals-trck",JSON.stringify(e),3600,"/")}};document.addEventListener("DOMContentLoaded",(function(){Fupcah.onload((function(){a.resetPreviousPage(),a.checkReloadState(),a.collect(),a.trackExternalLinks(),document.addEventListener("mouseup",(function(e){if(!1===e.rightClick){const t=e.target;if(t&&t.classList.contains("TrackingInternalLink")){const e=a.gather(t);a.send([e])}}}))}))})),window.onbeforeunload=function(){const e=window.location.toString(),t=a.getTrackData();null!==t&&(t.previousPage=e,a.setCookie(t))};var o=a;t.default=o},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceLayerClient=void 0;var r=a(n(0)),i=n(13),s=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}class o{get(e){return e.method="get",e.data=e.extra||{},e.data.include_order=!!e.include_order,this._getToken(e).then(t=>{e.data.token=t,e.params&&(e.data.q=s.default.alias(e.params)),e.data.path=e.path;let n=["X-StudyPortals-Brand","Accept-Language"],r=[];if(e.headers)for(let t=0;t<e.headers.length;t++){const i=e.headers[t];-1===n.indexOf(i.name)?"X-StudyPortals-Tally"===i.name&&(e.data.tally=i.value):r.push(i.value)}return r.length>0&&(e.data.hh=r.join("-")),this._requestSL(e)})}getAll(e){let t,n=0;const r=e.onSuccess.clone();e.onSuccess=(i,s)=>{if(t){const e=t.substring(0,t.length-1),n=i.substring(1,i.length);t=e+", "+n}else t=i;n+=parseInt(s.length,10),s.total>n&&(e.extra.start=n,delete e.retry,this.get(e)),r(t,s)},e.extra=e.extra||{},e.extra.length=0,e.fixed=!0,this.get(e)}post(e){return e.method="post",e.data={},this._getToken(e).then(t=>(e.data.token=t,e.data.params=e.params,e.data.path=e.path,e)).then(this._requestSL)}put(e){return e.method="put",e.data={},this._getToken(e).then(t=>(e.data.token=t,e.data.params=e.params,e.params.name&&(e.data.name=e.params.name),e.data.path=e.path,e)).then(this._requestSL)}remove(e){return e.method="delete",e.data={},this._getToken(e).then(t=>(e.data.token=t,e.data.params=e.params,e.data.path=e.path,e)).then(this._requestSL)}cancel(){}_getToken(e){if(e.token)return Promise.resolve(e.token);const t=e.method+":"+e.path,n=Loot.DataStorage.retrieve(t);return n?Promise.resolve(n):"object"==typeof e.sl_token?o._requestCustomToken(e.sl_token).then(e=>(Loot.DataStorage.store(t,e),e)):!0===e.sentinel?o._requestTokenFromSentinel(e.path).then(e=>(Loot.DataStorage.store(t,e),e)):o._requestReflectorToken(e.path).then(e=>(Loot.DataStorage.store(t,e),e))}static _deleteToken(e){return Loot.DataStorage.remove(e.method+":"+e.path)}static _requestReflectorToken(e){let t=authService.getServiceLayerUrl(),n=`${t}auth/reflector/?url=${t}${e}`;return i.FetchQueue.addRequest(data.url,n).then(e=>e.text())}static _requestCustomToken(e){let t={method:"get",url:authService.getServiceLayerUrl()+e.path};return e.cookies&&(t.credentials="include"),i.FetchQueue.addRequest(t.url,t).then(e=>e.text())}static _requestTokenFromSentinel(e){let t={method:"get",url:r.default.getBaseUrl()+"Sentinel.php?path="+e};return i.FetchQueue.addRequest(t.url,t).then(e=>e.text())}static parseHeaders(e){let t,n={};if(e.has("X-StudyPortals-Limit")){let t=e.get("X-StudyPortals-Limit").split(",");n.start=t[0],n.length=t[1],n.max=t[2]}e.has("X-StudyPortals-Total")&&(n.total=e.get("X-StudyPortals-Total"));try{t=e.entries()}catch(e){t=[]}for(let e=0;e<t.length;e++){let r=t[e],i=r[0].toLowerCase(),s=r[1].toLowerCase();if(-1!==i.indexOf("x-studyportals-tally")&&-1===i.indexOf("vary")&&-1===i.indexOf("access-control-allow-headers")){n.tallies=n.tallies||{};let e=i.split("-")[3];n.tallies[e]=n.tallies[e]||{};let t=JSON.parse(s);for(let r in t)t.hasOwnProperty(r)&&(n.tallies[e][r]=t[r])}}return n}_requestSL(e){isNaN(e.retry)&&(e.retry=0);let t={method:e.method},n=new Headers;n.append("Accept-Language","en-GB"),n.append("X-StudyPortals-Brand","default"),e.headers&&e.headers.forEach(e=>{n.append(e.name,e.value),"cache-control"===e.name&&"no-cache"===e.value&&(t.cache="no-cache")}),t.headers=n;let r=Meta.reflector_url;switch(e.method.toLowerCase()){case"get":const n=encodeURIComponent;r+="?"+Object.keys(e.data).map(t=>n(t)+"="+n(e.data[t])).join("&");break;case"post":case"put":case"delete":t.headers.append("content-type","application/x-www-form-urlencoded; charset=UTF-8"),t.body=o.parseBody(e.data,"")}let s={};return i.FetchQueue.addRequest(r,t).then(e=>{if(e.status>=300)throw e;return s=o.parseHeaders(e.headers),e}).then(e=>e.text()).then(t=>("function"==typeof e.onSuccess&&e.onSuccess(t,s),{body:t,meta:s})).catch(t=>{if(401===t.status&&e.retry<1)return o._deleteToken(e),this._getToken(e).then(t=>(e.data.token=t,e.retry++,this._requestSL(e)));if(503===t.status&&e.retry<3)return e.retry++,new Promise((t,n)=>{setTimeout(()=>{this._requestSL(e).then(t).catch(n)},1e3*e.retry)});throw"function"==typeof e.onFailure&&e.onFailure(t.status,t),t})}static parseBody(e){let t=[];const n=(e,r)=>{for(let i in e){if(!e.hasOwnProperty(i))continue;const s=""===r?encodeURIComponent(i):`[${encodeURIComponent(i)}]`,a=e[i];"object"!=typeof a?t.push(`${r}${s}=${encodeURIComponent(a)}`):n(a,`${r}${s}`)}};return n(e,""),t.join("&")}}t.ServiceLayerClient=o,window.ServiceLayerClient=o},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencySwitcherSearch=t.CurrencySwitcher=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},s=n(1);class a{constructor(e){this.currencyWrapper=document.getElementById("CurrencyWrapper"),this.currencyDropDown=document.getElementById("CurrencyDropDown"),null!==this.currencyWrapper&&null!==this.currencyDropDown&&(this.dataStorage=e,this.currencyRatesAvailable=!0,this.rates=null,this.defaultCurrencyISO="EUR",this.currencyWrapper.classList.contains("Hidden")&&(this.currencyRatesAvailable=!1),document.addEventListener("answer_user_location_for_tuition",e=>{const t=e.detail.userCountryID,n=a.getDefaultCountryCurrency(t);this._setUserCurrency(n),this._setVisualState()}),this.currencyDropDown.addEventListener("change",()=>{this._storeUserCurrency(),this._setVisualState(),this._trackCurrencyChange()}),document.addEventListener("ask_user_currency_for_search_controller",()=>{document.dispatchEvent(new CustomEvent("answer_user_currency_for_search_controller",{detail:{userCurrency:this.getUserCurrency()}}))}),document.addEventListener("render_complete",()=>{this._setVisualState()}),document.addEventListener("wishlist_tuition_fee_updated",()=>{this._setVisualState()}),document.addEventListener("comparison_loaded",()=>{this._setVisualState()}),document.addEventListener("account_render_complete",()=>{this._setVisualState()}),document.addEventListener("ask_user_currency",()=>{const e=this.getUserCurrency();document.dispatchEvent(new CustomEvent("answer_user_currency",{detail:{userCurrency:e,userCurrencySymbol:this._getSymbolFromISO(e)}}))}),this._setUserCurrency(this.getUserCurrency()),this._setVisualState())}_trackCurrencyChange(){const e={category:"Search",action:"Currency Changed",label:this.userCurrency};i.default.GA.fireTracker(e)}_storeUserCurrency(){const e=this.currencyDropDown.selectedOptions[0].dataset.currency;this._setUserCurrency(e)}_setVisualState(){this._setCurrencySelector(this.getUserCurrency()),this._setPageCurrencies()}_setPageCurrencies(){if(!1===this.currencyRatesAvailable)return;const e=document.querySelectorAll("abbr[data-currency], [data-currency-rewrite]");Array.from(e).forEach(e=>{this._convertCurrency(e)});const t=document.querySelectorAll("[data-current-currency]");Array.from(t).forEach(e=>{e.dataset.currentCurrency=this.getUserCurrency()});const n=document.querySelectorAll("[data-currency-text]");Array.from(n).forEach(e=>{let t=this.getUserCurrency();this.currencyRatesAvailable||document.querySelectorAll("[data-currency-rewrite]")[0]&&(t=document.querySelectorAll("[data-currency-rewrite]")[0].getAttribute("data-currency")),e.dataset.currencyText=t,e.innerHTML=t})}_convertCurrency(e){if(!(e&&e instanceof HTMLElement))return;let t=this.getUserCurrency();const n=e.dataset.currency,r=e.dataset.amount,s=e.dataset.decimal,o=e.dataset.currencySymbol;let c=1;try{c=this._getExchangeRate(n,t)}catch(t){return void a._setToDefaultTuition(e)}e.hasAttribute("data-original_html")||(e.dataset.original_html=e.innerHTML);let u=r*c;u=Math.round(u);const l=this._getSymbolFromISO(t),d=i.default.formatAsLocalisedCurrency(u,t,l,s,o),h=e.dataset.original_html;e.dataset.converted_amount=u.toString(10),e.innerHTML=d,e.title="Converted from "+h.replace("&nbsp;"," ")}_getExchangeRate(e,t){const n=this._currencyRates;if(e===t)return 1;let r=1,i=1;if("EUR"!==e&&(r=n["EUR"+e],!r))throw new Error("No rate for EUR"+e);if("EUR"!==t&&(i=n["EUR"+t],!i))throw new Error("No rate for EUR"+t);return 1/r*i}getUserCurrency(){if(this.userCurrency)return this.userCurrency;let e=this.getStoredCurrency();return null===e||""===e?(a.askUserCountry(),this.defaultCurrencyISO):e}static getDefaultCountryCurrency(e){switch(e){case s.LocationSwitcher.usaCountryID:return"USD";case s.LocationSwitcher.australiaCountryID:return"AUD";case s.LocationSwitcher.canadaCountryID:return"CAD";case s.LocationSwitcher.ukCountryID:return"GBP";default:return"EUR"}}_setUserCurrency(e){this.userCurrency=e,this.dataStorage.store("currency",e,2592e3),document.dispatchEvent(new CustomEvent("currency_changed",{detail:{userCurrency:this.userCurrency,userCurrencySymbol:this._getSymbolFromISO(e)}}))}_getSymbolFromISO(e){const t=this.currencyDropDown.querySelector("option."+e);return t?t.dataset.symbol:""}static _setToDefaultTuition(e){e&&e instanceof Element&&(e.hasAttribute("data-original_html")&&(e.innerHTML=e.dataset.originalHtml),e.removeAttribute("title"))}_setCurrencySelector(e){const t=this.currencyDropDown.querySelector(`[data-currency=${e}]`);t instanceof HTMLElement&&(t.selected=!0)}get _currencyRates(){if(null!==this.rates&&"object"==typeof this.rates)return this.rates;const e={},t=this.currencyWrapper.getElementsByClassName("currency_rate");let n;for(n in Array.from(t).forEach((function(t){const n=t.dataset.fromto,r=Number(t.dataset.rate);n&&r>0&&(e[n]=r)})),e)if(e.hasOwnProperty(n))break;if(!n)throw Error("No currency rates available");return this.rates=e,this.rates}getStoredCurrency(){let e=this.dataStorage.retrieve("currency");return null===e||""===e?"":e}static askUserCountry(){document.dispatchEvent(new Event("ask_user_location_for_tuition"))}}t.CurrencySwitcher=a,t.CurrencySwitcherSearch=class extends a{constructor(e,t){super(e),this.currencyWrapper.classList.remove("Hidden"),this.currencyRatesAvailable=!0,this.searchRequest=t,document.addEventListener("url_change",e=>{this.searchRequest=e.detail.searchRequest,this._setVisualState()})}_setUserCurrency(e){this.searchRequest&&(this.searchRequest.userCurrency=e),super._setUserCurrency(e)}}},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TuitionSettings=void 0;var r=n(16);t.TuitionSettings=class{constructor(){this.module=document.getElementById("TuitionSettings"),this.body=document.body,this.popup=null,this.timeoutList={},this.topoffset=null,this.popupConfig={name:"tuitionsettingspopup",content:this.module,closeMethod:"hide",onOpen:()=>{this.topoffset=window.pageYOffset;const e=-1*this.topoffset;this.body.style.top=e+"px",this.body.classList.add("is-notScrollable")},onClose:()=>{this.body.classList.remove("is-notScrollable"),this.body.style.top="auto",window.scroll(0,this.topoffset)}},document.addEventListener("tuition_popup_rebind",()=>{this.bindClickEvents()}),this.init()}init(){this.popup=new r.PowerPopup(this.popupConfig),this.bindClickEvents(),Array.from(this.module.getElementsByClassName("js-settingsSelect")).forEach(e=>{this.timeoutList[e.id]=null,e.addEventListener("change",e=>{this.onSelectionChange(e.target)})})}bindClickEvents(){const e=document.getElementsByClassName("js-showTuitionPreferences");Array.from(e).forEach(e=>{e.removeEventListener("click",()=>{this.popup.open()}),e.addEventListener("click",()=>{this.popup.open()})})}onSelectionChange(e){const t=e.id,n=e.parentNode.getElementsByClassName("js-checkmark")[0];this.timeoutList[t]&&window.clearTimeout(this.timeoutList[t]),n.classList.remove("is-fadingOut"),n.classList.add("is-fadingIn"),this.timeoutList[t]=window.setTimeout(()=>{n.classList.remove("is-fadingIn"),n.classList.add("is-fadingOut"),this.timeoutList[t]=window.setTimeout(()=>{n.classList.remove("is-fadingOut")},1e3)},2e3)}}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(57)),i=a(n(0)),s=a(n(60));function a(e){return e&&e.__esModule?e:{default:e}}var o={initialised:!1,callbacks:[],competingBanners:null,tags:[],areas:[],init:function(){this.initialised=!0,this.callbacks.forEach((function(e){try{e()}catch(e){}})),this.load()},load:function(e){if(this.initialised){var t=this;(!e||e.length<=0)&&(e=document.querySelectorAll(".BannerPlaceHolder"));var n=t.collectOptions();if(null!==n){var r=[];t.areas=[],t.tags=[],Array.from(e).forEach((function(e){e.classList.contains("Ignored")||(r.push(e.getAttribute("data-id")),t.areas.push(new c(e)))})),n.boxes=r.join(","),0!==n.boxes.length&&(window.location.href.includes("/search/bachelors-degrees")||t.requestBanners(n))}}},calculateProbability:function(e){if(1e3==e.display_probability)return!0;var t=1e3*Math.random();return e.display_probability>t},collectOptions:function(){var e={},t=document.querySelector(".TrackingLocation");if(t){var n=null,i=null;-1!==["study","org","cntry","disc","schol"].indexOf(t.getAttribute("data-type"))&&(n=t.getAttribute("data-type")),t.getAttribute("data-id")&&(i=parseInt(t.getAttribute("data-id"),10)),n&&i>0&&(e.entity_type=n,e.entity_id=i)}var s=JSON.parse(r.default.getItem("StudyPortals-trck"));if(null===s)return null;s.search&&(e.search=s.search),s.origin?e.origin=s.origin:e.origin=0;var a=document.querySelector(".TrackingBrand");return a&&a.getAttribute("data-brand")&&(e.brand=a.getAttribute("data-brand")),e},requestBanners:function(e){let t=Meta.sl_external_url+"banner/";Meta.hasOwnProperty("sl_banner_url")&&(t=Meta.sl_banner_url);const n=o._getBannerRequestObject(t,e,{"Accept-Language":"en-GB"});o.competingRequest=n,fetch(n.getRequestUrl(),{headers:n.getHeaders()}).then(e=>e.json()).then(e=>this.renderBanners(e)).catch(()=>null)},_getBannerRequestObject:function(e,t,n){return new class{constructor(e,t,n){this.banner_url=e,this.options=t,this.headers=n}toQueryStringSP(e){var t=encodeURIComponent;return Object.keys(e).map(n=>`${t(n)}=${t(e[n])}`).join`&`}appendQueryParametersSP(e,t){if("object"!=typeof t)return e;var n=this.toQueryStringSP(t);return e+(""!==n?"?"+n:"")}getRequestUrl(){return this.appendQueryParametersSP(this.banner_url,this.options)}getHeaders(){return this.headers}getBaseUrl(){return this.banner_url}getOptions(){return this.options}}(e,t,n)},renderBanners:function(e){var t=this;e=t.orderBanners(e),o.competingBanners=e,(e=t._chooseBanners(e)).forEach((function(e){if((0!==e.take_over.length||t.calculateProbability(e))&&void 0!==e.tag&&-1===t.tags.indexOf(e.tag)){var n=!1;t.areas.forEach((function(r){n||(n=r.addBanner(e))&&e.tag.length>0&&t.tags.push(e.tag)}))}})),t.areas.forEach((function(e){e.display()})),i.default.GA.parseTrackers(),t.trackBanners(),window.dispatchEvent(new CustomEvent("bannersready"))},_chooseBanners:function(e){var t=this,n="",r=[];return e.forEach((function(e){if(!(n.length>0))if(e.take_over.length>0){if(e.boxes[0].indexOf("mpu")>-1){if(!t.calculateProbability(e))return;n=e.take_over}}else r.push(e)})),n.length>0&&(r=t._getTakeOverBanners(e,n)),r},_getTakeOverBanners:function(e,t){var n=[];return e.forEach((function(e){t===e.take_over&&n.push(e)})),n},orderBanners:function(e){var t=[],n={};Object.values(e).forEach((function(e){n[e.cpm]||(n[e.cpm]=[]),n[e.cpm].push(e)}));var r=Object.keys(n);return(r=r.sort((function(e,t){return t-e}))).forEach((function(e){let r=n[e];r=r.sort(()=>Math.random()-.5),r.forEach((function(e){t.push(e)}))})),t},trackBanners:function(){if(s.default){s.default.trackExternalLinks();var e=[];Array.from(document.querySelectorAll(".BannerPlaceHolder .TrackingEvent")).forEach((function(t){var n=s.default.gather(t);n&&!e.includes(n)&&e.push(n)})),e.length>0&&s.default.send(e)}},addCallback:function(e){return!this.initialised&&"function"==typeof e&&(this.callbacks.push(e),!0)}};class c{constructor(e){this.bannerHeight=90,this.bannerWidth=120,this.padding=10,this.id=null,this.x=null,this.y=null,this.banners={},this.matrix=[],this.id=e.getAttribute("data-id"),this.y=parseInt(e.getAttribute("data-x"),10),this.x=parseInt(e.getAttribute("data-y"),10),e.getAttribute("data-slot-height")&&(this.bannerHeight=parseInt(e.getAttribute("data-slot-height"),10)),e.getAttribute("data-slot-width")&&(this.bannerWidth=parseInt(e.getAttribute("data-slot-width"),10)),e.getAttribute("data-standard-padding")&&(this.padding=parseInt(e.getAttribute("data-standard-padding"),10)),"true"===e.getAttribute("data-calculate-slots")&&this.calculateMaxSlots(e);for(var t=0,n=0,r=[];n<this.y;)r.push(-1),n++;for(;t<this.x;)this.matrix.push(r.slice(0)),t++}addBanner(e){var t=this;if(!e.boxes)return!1;if(-1===e.boxes.indexOf(t.id))return!1;var n=!1;return this.matrix.forEach((function(r,i){r.forEach((function(r,s){!n&&t.checkPosition(s,i)&&t.fitBanner(s,i,e)&&(t.banners[e.id]=e,n=!0)}))})),n}fitBanner(e,t,n){for(var r=parseInt(n.slot_count_x,10),i=parseInt(n.slot_count_y,10),s=parseInt(n.id,10),a=!0,o=this.matrix.slice(0),c=0,u=0;u<i&&a;){for(;c<r&&a;)this.checkPosition(e+c,t+u)?o[t+u][e+c]=s:a=!1,c++;u++,c=0}return!!a&&(this.matrix=o,!0)}checkPosition(e,t){return!!this.matrix[t]&&void 0!==this.matrix[t][e]&&this.matrix[t][e]<=0}display(e){var t=this;if(e||(e=document.querySelector(".BannerPlaceHolder[data-id="+t.id+"]")),e.innerHTML="",e.classList.remove("Empty"),Object.keys(t.banners).length){this.setBoxSize(e);var n=0;if(this.matrix.forEach((function(r,i){r.forEach((function(r,s){if(r&&t.banners[r]){var a=t.banners[r],o=!0;"true"===e.getAttribute("data-no-styling")&&(o=!1);var c=t.displayBanner(a,s,i,o);n=i+parseInt(a.slot_count_y),c&&e.appendChild(c),t.banners[r]=null}}))})),t.x>t.y){var r=document.querySelector("#AdvertiseHereClone");if(r){var i=r.getElementsByTagName("a");if(i.length){let r=i[0].cloneNode(!0),s=n*t.bannerHeight;s+=n*t.padding,r.style.top=s+"px",e.appendChild(r),e.style.height=30+s+"px"}}}}else e.classList.add("Empty")}displayBanner(e,t,n,r){var s=n*this.bannerHeight;s+=n*this.padding;var a=t*this.bannerWidth;a+=t*this.padding;var o=e.slot_count_x*this.bannerWidth;o+=(e.slot_count_x-1)*this.padding;var c=e.slot_count_y*this.bannerHeight;c+=(e.slot_count_y-1)*this.padding;var u=document.createElement("div");u.classList.add("Banner"),r&&(u.style.position="absolute",u.style.top=s+"px",u.style.left=a+"px");var l=document.createElement("div");l.classList.add("TrackingEvent"),l.classList.add("TrackingRetrigger"),l.setAttribute("data-action","impr"),l.setAttribute("data-type","bnnr"),l.setAttribute("data-id",e.id),l.style.display="none",u.appendChild(l);var d=document.createElement("a");d.classList.add("TrackingExternalLink"),d.setAttribute("data-action","clic"),d.setAttribute("data-type","bnnr"),d.setAttribute("data-id",e.id),d.setAttribute("href",this.rewriteURL(e.target)),d.setAttribute("title",e.title),d.setAttribute("rel","nofollow"),d.setAttribute("target","mp_banner_"+e.id);var h={category:"Banners",action:"Graphic banner click",label:e.id};d.setAttribute("data-ga-tracking",JSON.stringify(h)),d.style.height=c+"px",d.style.width=o+"px",r&&(d.style.position="absolute",d.style.left="0px",d.style.top="0px");var p=null;if(e.files&&Object.values(e.files).length>0){let t=Object.values(e.files).shift();p="",p=t.imgix.endsWith(".gif")?t.cdn:t.imgix,i.default.live||(p=t.url),p=p.replace("/nxn/","/"+o+"x"+c+"/")}else{if(!e.external_url)return null;-1!==(p=e.external_url).indexOf("[timestamp]")&&(p=p.replace("[timestamp]",Math.round((new Date).getTime()/1e3)))}var g=document.createElement("img");return g.setAttribute("src",p),g.setAttribute("alt",e.title),g.style.width=o+"px",g.style.height=c+"px",g.addEventListener("error",()=>{if(!UrlHandler.isSearchPage())return;g.classList.add("is-notLoaded");const e=d.closest(".BannerPlaceHolder");if(!e)return;const t=e.getElementsByTagName("img");let n=!0;Array.from(t).some(e=>{if(!e.classList.contains("is-notLoaded"))return n=!1,!0}),n&&e.classList.add("Hidden")}),d.appendChild(g),u.appendChild(d),u}rewriteURL(e){return-1!==e.indexOf("[timestamp]")&&(e=e.replace("[timestamp]",Math.round((new Date).getTime()/1e3))),Meta.sl_external_url+"track/click/?target="+encodeURIComponent(e)}setBoxSize(e){e.style.position="relative";var t=this.padding*(this.y-1),n=this.padding*(this.x-1),r=t+this.y*this.bannerWidth+"px",i=n+this.x*this.bannerHeight+"px";e.style.width=r,e.style.height=i}calculateMaxSlots(e){var t=e.style.position;e.removeAttribute("style");var n=!1;e.classList.contains("Empty")&&(e.classList.remove("Empty"),n=!0);var r=e.clientWidth,i=e.clientHeight;e.style.position=t,n&&e.classList.add("Empty"),this.y=Math.floor(r/(this.bannerWidth+this.padding-this.padding)),this.x=Math.floor(i/(this.bannerHeight+this.padding-this.padding)),e.setAttribute("data-x",this.y),e.setAttribute("data-y",this.x)}}var u=o;t.default=u,window.addEventListener("trackingready",(function(){setTimeout((function(){o.init()}),0)})),window.addEventListener("orientationchange",(function(){o.load()}))},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TuitionSwitchable=void 0;var r=n(1);class i{constructor(){this.userCountry=0,document.addEventListener("render_complete",()=>{this._setVisualState()}),document.addEventListener("account_render_complete",()=>{this._setVisualState()}),document.addEventListener("wishlist_loaded",()=>{this._setVisualState()}),document.addEventListener("comparison_loaded",()=>{this._setVisualState()}),document.addEventListener("user_location_changed",e=>{this.userCountry=e.detail.userCountryID,this._setVisualState()}),document.addEventListener("currency_changed",()=>{this._setVisualState()}),document.addEventListener("answer_user_location",e=>{this.userCountry=e.detail.userCountryID,this._setVisualState()}),i.askUserLocation()}_setVisualState(){let e=[];if(Array.from(document.getElementsByClassName("js-tuitionSwitchable")).forEach(t=>{const n=t.querySelector('[data-target="national"]'),i=t.querySelector('[data-target="eea"]'),s=t.querySelector('[data-target="international"]'),a=t.querySelector('[data-target="general"]'),o=parseInt(t.dataset.countryId),c=this.userCountry,u=c===o,l=r.LocationSwitcher.isCountryInRegion(c,r.LocationSwitcher.eeaRegionID);l&&i?(this._showTuition(t,"eea"),e=["eea"]):u&&n?(this._showTuition(t,"national"),e=["national"]):l&&u||!s?a?(this._showTuition(t,"general"),e=["international","noneea","eea"]):(this._showNotAvailable(t),e=[""]):(this._showTuition(t,"international"),e=["international","noneea"])}),void 0!==window.UrlHandler&&window.UrlHandler.isStudyPage()){const t=document.getElementsByClassName("js-applicableRegion");Array.from(t).forEach(t=>{t.classList.remove("Hidden"),t.classList.remove("is-applicable"),e.includes(t.dataset.regionName)&&t.classList.add("is-applicable")})}setTimeout(()=>{const e=Array.from(document.getElementsByClassName("js-basedOn"));if(e)for(const t of e){const e=t.dataset.originalAmount,n=t.previousElementSibling.querySelector(".Amount span");t.classList.remove("Hidden"),null!==t.previousElementSibling.querySelector(".Amount span")?n.dataset.converted_amount===e&&t.classList.add("Hidden"):t.classList.add("Hidden")}},500)}_showTuition(e,t){e.querySelector(".js-notAvailable").classList.add("Hidden"),Array.from(e.querySelectorAll("[data-target]")).forEach(e=>{e.classList.add("Hidden")}),Array.from(e.querySelectorAll(`[data-target="${t}"]`)).forEach(e=>{e.classList.remove("Hidden")})}_showNotAvailable(e){Array.from(e.querySelectorAll("[data-target]")).forEach(e=>{e.classList.add("Hidden")}),e.querySelector(".js-notAvailable").classList.remove("Hidden")}static getTuitionFeeType(e,t,n){const i=t===r.LocationSwitcher.usaCountryID,s=e===r.LocationSwitcher.usaCountryID,a=r.LocationSwitcher.isCountryInRegion(e,r.LocationSwitcher.eeaRegionID),o=r.LocationSwitcher.isCountryInRegion(t,r.LocationSwitcher.eeaRegionID);return o&&a&&n.eea?"eea":i&&s&&n.national?"national":!o||!i&&n.international?"international":""}static askUserLocation(){document.dispatchEvent(new Event("ask_user_location"))}}t.TuitionSwitchable=i}});
//# sourceMappingURL=shared.c19e270ece4d2f50327e.js.map